(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9141],{422:function(e,t,a){Promise.resolve().then(a.bind(a,8526))},8526:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),n=a(2265),i=a(4033),r=a(2849),l=a(4968),d=a(829);function c(){let{isAuthenticated:e,isLoading:t}=(0,r.useAuth)(),a=(0,i.useRouter)(),[c,o]=(0,n.useState)(!0),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(""),[p,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{if(!t&&!e){a.push("/login");return}e&&b()},[e,t,a]),(0,n.useEffect)(()=>{f()},[x,u]);let b=async()=>{try{o(!0);let e=await d.Z.getPatients({page:1,limit:100,sortBy:"createdAt",sortOrder:"desc"});m(e.data||[]),g(e.data||[])}catch(e){console.error("Error loading patients:",e),m([]),g([])}finally{o(!1)}},f=()=>{if(!u||0===u.length){g([]);return}if(x){let e=u.filter(e=>{var t,a,s,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.inamsosRecordNumber)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase()))||(null===(n=e.hospitalRecordNumber)||void 0===n?void 0:n.toLowerCase().includes(x.toLowerCase()))});g(e)}else g(u)};return t||c?(0,s.jsx)(l.A,{children:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading patients..."})]})})}):(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"MSTS Score Calculator"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Select a patient to perform Musculoskeletal Tumor Society (MSTS) functional assessment"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Patient"}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Search by name or MR number...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Patients (",(null==p?void 0:p.length)||0,")"]})}),p&&0!==p.length?(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MR Number"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date of Birth"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:[e.inamsosRecordNumber,(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.hospitalRecordNumber})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.dateOfBirth).toLocaleDateString("id-ID")})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.gender})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)("button",{onClick:()=>a.push("/msts/calculator?patientId=".concat(e.id)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Calculate MSTS"})})]},e.id))})]})}):(0,s.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC65"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"No patients found"}),(0,s.jsx)("p",{className:"text-sm mt-2",children:x?"Try adjusting your search query":"No patients available. Please add patients first."}),!x&&(0,s.jsx)("button",{onClick:()=>a.push("/patients/new"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Add New Patient"})]})]}),(0,s.jsx)("div",{className:"bg-emerald-50 border-l-4 border-emerald-400 rounded-lg p-4 mt-6 mb-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("span",{className:"text-2xl",children:"‚≠ê"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-emerald-900 mb-1",children:"Pentingnya MSTS Assessment"}),(0,s.jsxs)("p",{className:"text-sm text-emerald-800",children:["MSTS Score adalah standar internasional untuk mengevaluasi keberhasilan pengobatan tumor muskuloskeletal. Penilaian ini penting untuk: ",(0,s.jsx)("strong",{children:"mengukur kualitas hidup pasien pasca-operasi"}),", ",(0,s.jsx)("strong",{children:"membandingkan efektivitas berbagai metode pengobatan"}),", dan ",(0,s.jsx)("strong",{children:"memprediksi outcome jangka panjang"}),". Data MSTS juga digunakan dalam publikasi penelitian dan peningkatan protokol klinis."]})]})]})}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"About MSTS Assessment"}),(0,s.jsx)("p",{className:"text-sm text-blue-800",children:"The MSTS (Musculoskeletal Tumor Society) score is a standardized functional outcome measure for musculoskeletal tumor patients. It assesses 6 domains: Pain, Function, Emotional Acceptance, Hand Positioning, Manual Dexterity, and Lifting. Total score ranges from 0-30 points, with higher scores indicating better functional outcomes."})]})]})})]})})}},829:function(e,t,a){"use strict";var s=a(762);class n{async createPatient(e){let t=await s.Z.post("/patients",e);return t.data.data}async getPatients(e){var t;let a=await s.Z.get("/patients",{params:e});return{data:a.data.patients||[],meta:a.data.pagination||{page:1,limit:50,total:(null===(t=a.data.patients)||void 0===t?void 0:t.length)||0,totalPages:1}}}async getPatientById(e){let t=await s.Z.get("/patients/".concat(e));return t.data}async getPatientByMRN(e,t){let a=await s.Z.get("/patients/mrn/".concat(e),{params:{centerId:t}});return a.data.data}async updatePatient(e,t){let a=await s.Z.patch("/patients/".concat(e),t);return a.data.data}async deletePatient(e){await s.Z.delete("/patients/".concat(e))}async searchPatients(e,t){let a=await s.Z.get("/patients/search",{params:{q:e,centerId:t}});return a.data.data}async getPatientStatistics(e){let t=await s.Z.get("/patients/statistics",{params:{centerId:e}});return t.data.data}async exportPatients(e,t){let a=await s.Z.get("/patients/export/".concat(e),{params:t,responseType:"blob"});return a.data}}t.Z=new n},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[1176,4829,2849,4968,2971,2472,1744],function(){return e(e.s=422)}),_N_E=e.O()}]);