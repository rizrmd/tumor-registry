(()=>{var e={};e.id=629,e.ids=[629],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c});var r=s(482),a=s(9108),i=s(2563),l=s.n(i),n=s(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["media",{children:["radiology",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8827)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\media\\radiology\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8549)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,8206)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\not-found.tsx"]}],o=["D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\media\\radiology\\page.tsx"],x="/media/radiology/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/media/radiology/page",pathname:"/media/radiology",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1174:(e,t,s)=>{Promise.resolve().then(s.bind(s,7380))},7380:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(2295),a=s(3729),i=s(3973),l=s(4573),n=s(2254);function d(){let{user:e,isAuthenticated:t,isLoading:s}=(0,i.useAuth)(),d=(0,n.useRouter)(),[c,o]=(0,a.useState)(!0),[x,m]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[h,g]=(0,a.useState)(""),[y,j]=(0,a.useState)("all"),[N,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!s&&!t){d.push("/login");return}t&&b()},[t,s,d]),(0,a.useEffect)(()=>{v()},[x,h,y]);let b=async()=>{try{o(!0),m([])}catch(e){console.error("Error loading radiology images:",e)}finally{o(!1)}},v=()=>{let e=[...x];h&&(e=e.filter(e=>e.patientName?.toLowerCase().includes(h.toLowerCase())||e.mrNumber?.toLowerCase().includes(h.toLowerCase())||e.bodyPart?.toLowerCase().includes(h.toLowerCase())||e.findings?.toLowerCase().includes(h.toLowerCase()))),"all"!==y&&(e=e.filter(e=>e.modality===y)),e.sort((e,t)=>new Date(t.studyDate).getTime()-new Date(e.studyDate).getTime()),p(e)},w=e=>{let t={XRAY:"bg-blue-100 text-blue-800",CT:"bg-purple-100 text-purple-800",MRI:"bg-pink-100 text-pink-800",ULTRASOUND:"bg-green-100 text-green-800","PET-SCAN":"bg-red-100 text-red-800","BONE-SCAN":"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800";return r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t}`,children:e})};return s||c?r.jsx(l.A,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading radiology images..."})]})})}):(0,r.jsxs)(l.A,{children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Radiology Images"}),r.jsx("p",{className:"text-gray-600",children:"Manage diagnostic imaging (X-Ray, CT, MRI, Ultrasound)"})]}),(0,r.jsxs)("button",{onClick:()=>d.push("/patients/new"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"\uD83D\uDCE4"}),"Upload Image"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Images"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.length})]}),r.jsx("div",{className:"text-4xl",children:"\uD83C\uDFE5"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"X-Ray"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:x.filter(e=>"XRAY"===e.modality).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83D\uDCF7"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CT Scan"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:x.filter(e=>"CT"===e.modality).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83D\uDD2C"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"MRI"}),r.jsx("p",{className:"text-3xl font-bold text-pink-600 mt-2",children:x.filter(e=>"MRI"===e.modality).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83E\uDDF2"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ultrasound"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:x.filter(e=>"ULTRASOUND"===e.modality).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83D\uDCE1"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Patient name, MR number, body part, or findings",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modality"}),(0,r.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Modalities"}),r.jsx("option",{value:"XRAY",children:"X-Ray"}),r.jsx("option",{value:"CT",children:"CT Scan"}),r.jsx("option",{value:"MRI",children:"MRI"}),r.jsx("option",{value:"ULTRASOUND",children:"Ultrasound"}),r.jsx("option",{value:"PET-SCAN",children:"PET Scan"}),r.jsx("option",{value:"BONE-SCAN",children:"Bone Scan"})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Radiology Studies (",u.length,")"]})}),0===u.length?(0,r.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDFE5"}),r.jsx("p",{className:"text-lg font-medium",children:"No radiology images found"}),r.jsx("p",{className:"text-sm mt-2",children:0===x.length?"Radiology images will appear here when uploaded":"Try adjusting your search filters"})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MR Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modality"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Body Part"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Study Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Findings"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.patientName||"Unknown"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.mrNumber||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(e.modality)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.bodyPart||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:new Date(e.studyDate).toLocaleDateString("id-ID")})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:e.findings||"No findings recorded"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900",children:"View"})})]},e.id))})]})})]}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Radiology Study Detail"}),r.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:N.fileUrl,alt:`${N.modality} - ${N.bodyPart}`,className:"w-full rounded-lg bg-black"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Patient Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Patient Name"}),r.jsx("p",{className:"font-medium",children:N.patientName||"Unknown"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"MR Number"}),r.jsx("p",{className:"font-medium",children:N.mrNumber||"-"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Study Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Modality"}),r.jsx("div",{className:"mt-1",children:w(N.modality)})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Body Part"}),r.jsx("p",{className:"font-medium",children:N.bodyPart||"-"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Study Date"}),r.jsx("p",{className:"font-medium",children:new Date(N.studyDate).toLocaleDateString("id-ID")})]})]})]})]}),N.description&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:N.description})]}),N.findings&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Findings"}),r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:N.findings})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>window.open(N.fileUrl,"_blank"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Download"}),r.jsx("button",{onClick:()=>f(null),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Close"})]})]})]})})]})}},8827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`D:\Project\Tumor Registry\INAMSOS Application Desktop\frontend\src\app\media\radiology\page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4717,925,4573],()=>s(4199));module.exports=r})();