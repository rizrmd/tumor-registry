(()=>{var e={};e.id=4960,e.ids=[4960],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},6281:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},29:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(7096),i=t(6132),a=t(7284),l=t.n(a),n=t(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["media",{children:["pathology",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9554)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\media\\pathology\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4775)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,5666)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\not-found.tsx"]}],d=["D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\media\\pathology\\page.tsx"],x="/media/pathology/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/media/pathology/page",pathname:"/media/pathology",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8454:(e,s,t)=>{Promise.resolve().then(t.bind(t,8504))},8504:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(3854),i=t(4218),a=t(5815),l=t(3984),n=t(1018);function o(){let{user:e,isAuthenticated:s,isLoading:t}=(0,a.useAuth)(),o=(0,n.useRouter)(),[c,d]=(0,i.useState)(!0),[x,m]=(0,i.useState)([]),[p,h]=(0,i.useState)([]),[u,g]=(0,i.useState)(""),[y,j]=(0,i.useState)("all"),[N,b]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!t&&!s){o.push("/login");return}s&&f()},[s,t,o]),(0,i.useEffect)(()=>{v()},[x,u,y]);let f=async()=>{try{d(!0),m([])}catch(e){console.error("Error loading pathology reports:",e)}finally{d(!1)}},v=()=>{let e=[...x];u&&(e=e.filter(e=>e.patientName?.toLowerCase().includes(u.toLowerCase())||e.mrNumber?.toLowerCase().includes(u.toLowerCase())||e.diagnosis?.toLowerCase().includes(u.toLowerCase())||e.specimenType?.toLowerCase().includes(u.toLowerCase()))),"all"!==y&&(e=e.filter(e=>e.reportType===y)),e.sort((e,s)=>new Date(s.reportDate).getTime()-new Date(e.reportDate).getTime()),h(e)},w=e=>{let s={"CORE-BIOPSY":"bg-blue-100 text-blue-800",FNAB:"bg-green-100 text-green-800",EXCISIONAL:"bg-purple-100 text-purple-800",INCISIONAL:"bg-yellow-100 text-yellow-800",IHC:"bg-pink-100 text-pink-800",CYTOLOGY:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800";return r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s}`,children:e})};return t||c?r.jsx(l.A,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading pathology reports..."})]})})}):(0,r.jsxs)(l.A,{children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pathology Reports"}),r.jsx("p",{className:"text-gray-600",children:"Manage histopathology and cytology reports"})]}),(0,r.jsxs)("button",{onClick:()=>o.push("/patients/new"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"\uD83D\uDCE4"}),"Upload Report"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.length})]}),r.jsx("div",{className:"text-4xl",children:"\uD83D\uDD2C"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Core Biopsy"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:x.filter(e=>"CORE-BIOPSY"===e.reportType).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83D\uDC89"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"FNAB"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:x.filter(e=>"FNAB"===e.reportType).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83E\uDDEA"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"IHC"}),r.jsx("p",{className:"text-3xl font-bold text-pink-600 mt-2",children:x.filter(e=>"IHC"===e.reportType).length})]}),r.jsx("div",{className:"text-2xl",children:"\uD83E\uDDEC"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsx("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"Patient name, MR number, diagnosis, or specimen type",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),(0,r.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"CORE-BIOPSY",children:"Core Biopsy"}),r.jsx("option",{value:"FNAB",children:"FNAB"}),r.jsx("option",{value:"EXCISIONAL",children:"Excisional Biopsy"}),r.jsx("option",{value:"INCISIONAL",children:"Incisional Biopsy"}),r.jsx("option",{value:"IHC",children:"Immunohistochemistry"}),r.jsx("option",{value:"CYTOLOGY",children:"Cytology"})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Pathology Reports (",p.length,")"]})}),0===p.length?(0,r.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD2C"}),r.jsx("p",{className:"text-lg font-medium",children:"No pathology reports found"}),r.jsx("p",{className:"text-sm mt-2",children:0===x.length?"Pathology reports will appear here when uploaded":"Try adjusting your search filters"})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MR Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specimen"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Biopsy Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diagnosis"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.patientName||"Unknown"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.mrNumber||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(e.reportType)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.specimenType||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:new Date(e.biopsyDate).toLocaleDateString("id-ID")})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:e.diagnosis||"Pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{onClick:()=>b(e),className:"text-blue-600 hover:text-blue-900",children:"View"})})]},e.id))})]})})]}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pathology Report Detail"}),r.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Patient Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Patient Name"}),r.jsx("p",{className:"font-medium",children:N.patientName||"Unknown"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"MR Number"}),r.jsx("p",{className:"font-medium",children:N.mrNumber||"-"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Report Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Report Type"}),r.jsx("div",{className:"mt-1",children:w(N.reportType)})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Specimen Type"}),r.jsx("p",{className:"font-medium",children:N.specimenType||"-"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Biopsy Date"}),r.jsx("p",{className:"font-medium",children:new Date(N.biopsyDate).toLocaleDateString("id-ID")})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Report Date"}),r.jsx("p",{className:"font-medium",children:new Date(N.reportDate).toLocaleDateString("id-ID")})]})]})]})]}),N.diagnosis&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Diagnosis"}),r.jsx("p",{className:"text-gray-900 font-medium",children:N.diagnosis})]}),N.grossDescription&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Gross Description"}),r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:N.grossDescription})]}),N.microscopicDescription&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Microscopic Description"}),r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:N.microscopicDescription})]}),N.ihcMarkers&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"IHC Markers"}),r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:N.ihcMarkers})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[N.fileUrl&&r.jsx("button",{onClick:()=>window.open(N.fileUrl,"_blank"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Download PDF"}),r.jsx("button",{onClick:()=>b(null),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Close"})]})]})]})})]})}},9554:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});var r=t(5153);let i=(0,r.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\app\media\pathology\page.tsx`),{__esModule:a,$$typeof:l}=i,n=i.default,o=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[296,6905,3984],()=>t(29));module.exports=r})();