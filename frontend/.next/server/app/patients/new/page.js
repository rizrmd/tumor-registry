(()=>{var e={};e.id=4434,e.ids=[4434],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},428:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d});var t=s(482),r=s(9108),l=s(2563),i=s.n(l),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(a,o);let d=["",{children:["patients",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8199)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\patients\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8549)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,8206)),"D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\not-found.tsx"]}],c=["D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\app\\patients\\new\\page.tsx"],u="/patients/new/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/patients/new/page",pathname:"/patients/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7324:(e,a,s)=>{Promise.resolve().then(s.bind(s,8608))},3267:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let t=s(9694);s(3729);let r=t._(s(546));function l(e){return{default:(null==e?void 0:e.default)||e}}function i(e,a){let s=r.default,t={loading:e=>{let{error:a,isLoading:s,pastDelay:t}=e;return null}};"function"==typeof e&&(t.loader=e),Object.assign(t,a);let i=t.loader;return s({...t,loader:()=>null!=i?i().then(l):Promise.resolve(l(()=>null))})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},1868:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"NoSSR",{enumerable:!0,get:function(){return r}});let t=s(1462);function r(e){let{children:a}=e;return(0,t.throwWithNoSSR)(),a}},546:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l}});let t=s(9694)._(s(3729)),r=s(1868),l=function(e){let a=Object.assign({loader:null,loading:null,ssr:!0},e);function s(e){let s=a.loading,l=t.default.createElement(s,{isLoading:!0,pastDelay:!0,error:null}),i=a.ssr?t.default.Fragment:r.NoSSR,n=a.lazy;return t.default.createElement(t.default.Suspense,{fallback:l},t.default.createElement(i,null,t.default.createElement(n,e)))}return a.lazy=t.default.lazy(a.loader),s.displayName="LoadableComponent",s}},8608:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>Q});var t=s(2295),r=s(3729),l=s(2254),i=s(3973),n=s(4573);let o=(0,r.createContext)(null),d=({children:e,autoSaveInterval:a=12e4,draftKey:s="patient-form-draft",onAutoSave:l})=>{let[i,n]=(0,r.useState)({}),[d,c]=(0,r.useState)({}),[u,m]=(0,r.useState)(null),[g,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!0),[b,y]=(0,r.useState)(!1),f=(0,r.useRef)(null),j=(0,r.useRef)({});(0,r.useEffect)(()=>{I()},[]),(0,r.useEffect)(()=>{if(h&&g)return f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{C()},a),()=>{f.current&&clearTimeout(f.current)}},[i,g,h,a]),(0,r.useEffect)(()=>{let e=e=>{if(b)return e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave?",e.returnValue};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[b]);let v=(0,r.useCallback)((e,a)=>{n(s=>({...s,[e]:{...s[e],...a}})),x(!0),y(!0)},[]),N=(0,r.useCallback)((e,a,s)=>{n(t=>({...t,[e]:{...t[e],[a]:s}})),x(!0),y(!0)},[]),k=(0,r.useCallback)(e=>i[e]||{},[i]),w=(0,r.useCallback)(()=>i,[i]),S=(0,r.useCallback)((e,a)=>{c(s=>({...s,[e]:a}))},[]),C=(0,r.useCallback)(async()=>{try{localStorage.setItem(s,JSON.stringify({data:i,timestamp:new Date().toISOString(),validation:d})),l&&await l(i),m(new Date),x(!1),console.log("Draft saved successfully at",new Date().toLocaleTimeString())}catch(e){console.error("Error saving draft:",e)}},[i,d,s,l]),I=(0,r.useCallback)(()=>{try{let e=localStorage.getItem(s);if(e){let{data:a,timestamp:s,validation:t}=JSON.parse(e);n(a),c(t||{}),m(new Date(s)),j.current=a,console.log("Draft loaded from",new Date(s).toLocaleString())}}catch(e){console.error("Error loading draft:",e)}},[s]),T=(0,r.useCallback)(()=>{localStorage.removeItem(s),n({}),c({}),m(null),x(!1),y(!1),j.current={}},[s]);return t.jsx(o.Provider,{value:{formData:i,updateSection:v,updateField:N,getSection:k,getAllData:w,sectionValidation:d,setSectionValidation:S,saveDraft:C,loadDraft:I,clearDraft:T,lastSaved:u,isDirty:g,enableAutoSave:h,setEnableAutoSave:p,hasUnsavedChanges:b},children:e})},c=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useFormContext must be used within FormProvider");return e},u=({sections:e,onComplete:a,onSaveDraft:s,autoSaveInterval:l=12e4,showSidebar:i=!0,className:n=""})=>{let{getAllData:o,getSection:d,updateSection:u,updateField:m,sectionValidation:g,setSectionValidation:x,saveDraft:h,lastSaved:p,isDirty:b,hasUnsavedChanges:y}=c(),[f,j]=(0,r.useState)(0),[v,N]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),[S,C]=(0,r.useState)(new Set),I=e.filter(e=>!e.shouldRender||e.shouldRender(o())),T=I[f],A=0===f,D=f===I.length-1,P=d(T.id),L=g[T.id]||{isValid:!0,errors:[]};(0,r.useEffect)(()=>{if(b&&s){let e=setTimeout(async()=>{try{await s(o()),await h()}catch(e){console.error("Auto-save failed:",e)}},l);return()=>clearTimeout(e)}},[b,o,s,l,h]);let E=async()=>{if(!T.validate)return x(T.id,{isValid:!0,errors:[]}),!0;N(!0);try{let e=await Promise.resolve(T.validate(P,o()));return x(T.id,e),N(!1),e.isValid}catch(e){return console.error("Validation error:",e),N(!1),!1}},M=async()=>{let e=await E();e||T.isOptional?(e&&C(e=>new Set(e).add(T.id)),j(e=>Math.min(e+1,I.length-1)),window.scrollTo({top:0,behavior:"smooth"})):console.warn("Validation failed for section:",T.id)},R=e=>{let a=I.findIndex(a=>a.id===e);-1!==a&&(j(a),window.scrollTo({top:0,behavior:"smooth"}))},O=async()=>{try{s&&await s(o()),await h(),alert("Draft saved successfully!")}catch(e){console.error("Save draft failed:",e),alert("Failed to save draft. Please try again.")}},B=async()=>{N(!0);let e=!0;for(let a of I)if(a.validate){let s=d(a.id),t=await Promise.resolve(a.validate(s,o()));x(a.id,t),t.isValid||a.isOptional||(e=!1)}if(N(!1),!e){alert("Please complete all required sections before submitting.");let e=I.findIndex(e=>{let a=g[e.id];return a&&!a.isValid&&!e.isOptional});-1!==e&&j(e);return}w(!0);try{await a(o())}catch(e){console.error("Submission failed:",e),alert("Failed to submit form. Please try again.")}finally{w(!1)}},H=(0,r.useCallback)(e=>{u(T.id,e)},[T.id,u]),G=(0,r.useCallback)((e,a)=>{m(T.id,e,a)},[T.id,m]);return(0,t.jsxs)("div",{className:`min-h-screen bg-gray-50 ${n}`,children:[p&&(0,t.jsxs)("div",{className:"fixed top-4 right-4 z-50 bg-white px-4 py-2 rounded-lg shadow-md text-sm text-gray-600 flex items-center space-x-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,t.jsxs)("span",{children:["Last saved: ",p.toLocaleTimeString()]})]}),t.jsx("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)("div",{className:"flex",children:[i&&(0,t.jsxs)("aside",{className:"w-64 bg-white min-h-screen border-r border-gray-200 p-6 sticky top-0 overflow-y-auto h-screen",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Patient Registration"}),t.jsx("nav",{className:"space-y-2",children:I.map((e,a)=>{let s=g[e.id],r=S.has(e.id),l=a===f,i=s&&!s.isValid;return(0,t.jsxs)("button",{onClick:()=>R(e.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center space-x-3 ${l?"bg-blue-50 border-2 border-blue-500 text-blue-900":i?"bg-red-50 border border-red-200 text-red-900":r?"bg-green-50 border border-green-200 text-green-900":"bg-gray-50 border border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[t.jsx("div",{className:"flex-shrink-0",children:r&&!i?t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):i?t.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):l?t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})}):t.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium truncate",children:e.title}),e.isOptional&&t.jsx("div",{className:"text-xs text-gray-500",children:"Optional"})]})]},e.id)})}),t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:t.jsx("button",{onClick:O,disabled:!y,className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${y?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:"Save Draft"})})]}),t.jsx("main",{className:"flex-1 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:T.title}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Section ",f+1," of ",I.length]})]}),T.description&&t.jsx("p",{className:"text-gray-600",children:T.description}),T.isOptional&&t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This section is optional"})]}),L.errors.length>0&&t.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please correct the following errors:"}),t.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:L.errors.map((e,a)=>t.jsx("li",{children:e.message},a))})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:t.jsx(T.component,{data:P,updateData:H,updateField:G,errors:L.errors,isActive:!0})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("button",{onClick:()=>{j(e=>Math.max(e-1,0)),window.scrollTo({top:0,behavior:"smooth"})},disabled:A,className:`px-6 py-3 rounded-lg font-medium transition-colors ${A?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),t.jsx("div",{className:"flex space-x-4",children:D?t.jsx("button",{onClick:B,disabled:k||v,className:"px-8 py-3 rounded-lg font-medium bg-green-600 text-white hover:bg-green-700 disabled:bg-green-400 transition-colors",children:k?"Submitting...":"Submit Registration"}):t.jsx("button",{onClick:M,disabled:v,className:"px-6 py-3 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:v?"Validating...":"Next"})})]})]})})]})})]})};function m(){let{getSection:e,updateSection:a}=c(),[s,l]=(0,r.useState)([]),[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),g=e("section1")||{};(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{d(!0),m(null);let e="http://127.0.0.1:3001/api",s=localStorage.getItem("token"),[t,r]=await Promise.all([fetch(`${e}/centers`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),fetch(`${e}/pathology-types`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})]);if(!t.ok||!r.ok){let e=t.ok?null:await t.text(),a=r.ok?null:await r.text();throw console.error("Centers response:",e),console.error("Pathology response:",a),Error("Failed to load data")}let i=await t.json(),o=await r.json();l(Array.isArray(i)?i:i.data||[]),n(Array.isArray(o)?o:o.data||[]);let c=Array.isArray(i)?i:i.data||[];if(!g.centerId&&c.length>0){let e=c[0];a("section1",{...g,centerId:e.id})}}catch(e){console.error("Error loading section 1 data:",e),m("Gagal memuat data. Silakan coba lagi.")}finally{d(!1)}},h=e=>{let s=i.find(a=>a.id===e);s&&a("section1",{...g,pathologyType:s.code,pathologyTypeName:s.name})};return o?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-4 text-gray-600",children:"Memuat data..."})]}):u?t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-red-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),t.jsx("p",{className:"text-red-700 mt-1",children:u}),t.jsx("button",{onClick:x,className:"mt-3 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Coba Lagi"})]})]})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pusat Pengobatan & Jenis Patologi"}),t.jsx("p",{className:"text-gray-600",children:"Pilih pusat pengobatan dan jenis patologi tumor muskuloskeletal"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pusat Pengobatan ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:g.centerId||"",onChange:e=>{a("section1",{...g,centerId:e.target.value})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Pusat Pengobatan"}),s.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.code,") - ",e.province,e.regency?`, ${e.regency}`:""]},e.id))]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Pilih pusat pengobatan tempat pasien dirawat. Untuk pasien rujukan, pilih pusat yang sesuai."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Jenis Patologi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(e=>{let a=g.pathologyType===e.code;return(0,t.jsxs)("button",{type:"button",onClick:()=>h(e.id),className:`
                  relative p-6 rounded-lg border-2 text-left transition-all
                  ${a?"border-blue-600 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"}
                `,children:[a&&t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsx("div",{className:`text-lg font-semibold mb-2 ${a?"text-blue-900":"text-gray-900"}`,children:e.name}),t.jsx("div",{className:`text-sm font-mono mb-2 ${a?"text-blue-700":"text-gray-600"}`,children:e.code}),e.description&&t.jsx("div",{className:`text-sm ${a?"text-blue-800":"text-gray-600"}`,children:e.description}),(0,t.jsxs)("div",{className:`mt-4 text-xs ${a?"text-blue-600":"text-gray-500"}`,children:["BONE"===e.code&&"57 klasifikasi tumor tulang WHO","SOFT_TISSUE"===e.code&&"68 klasifikasi tumor jaringan lunak WHO","METASTATIC"===e.code&&"Tumor metastatik"]})]},e.id)})}),t.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Pilih jenis patologi tumor. Pilihan ini menentukan klasifikasi WHO yang akan ditampilkan di bagian diagnosis."})]}),g.centerId&&g.pathologyType&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"text-sm text-green-800",children:[t.jsx("span",{className:"font-medium",children:"Informasi dasar lengkap."})," Anda dapat melanjutkan ke bagian selanjutnya."]})]})})]})}function g(){let{getSection:e,updateSection:a}=c(),s=e("section2")||{},l={hospitalRecordNumber:s.hospitalRecordNumber||"",nik:s.nik||"",dateOfBirth:s.dateOfBirth||"",gender:s.gender||"",provinceId:s.provinceId||"",regencyId:s.regencyId||"",districtId:s.districtId||"",villageId:s.villageId||"",addressDetail:s.addressDetail||"",phone:s.phone||"",emergencyContactName:s.emergencyContactName||"",emergencyContactPhone:s.emergencyContactPhone||"",emergencyContactRelationship:s.emergencyContactRelationship||""},[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[g,x]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),f=(e=>{if(!e)return 0;let a=new Date,s=new Date(e),t=a.getFullYear()-s.getFullYear(),r=a.getMonth()-s.getMonth();return(r<0||0===r&&a.getDate()<s.getDate())&&t--,t})(l.dateOfBirth);(0,r.useEffect)(()=>{j()},[]),(0,r.useEffect)(()=>{l.provinceId?v(l.provinceId):(d([]),m([]),x([]))},[l.provinceId]),(0,r.useEffect)(()=>{l.regencyId?N(l.regencyId):(m([]),x([]))},[l.regencyId]),(0,r.useEffect)(()=>{l.districtId?k(l.districtId):x([])},[l.districtId]);let j=async()=>{try{p(!0);let e=await fetch("http://127.0.0.1:3001/api/regions/provinces");if(!e.ok)throw Error("Failed to load provinces");let a=await e.json();n(Array.isArray(a)?a:a.data||[])}catch(e){console.error("Error loading provinces:",e),n([])}finally{p(!1)}},v=async e=>{try{let a=await fetch(`http://127.0.0.1:3001/api/regions/provinces/${e}/regencies`);if(!a.ok)throw Error("Failed to load regencies");let s=await a.json();d(Array.isArray(s)?s:s.data||[])}catch(e){console.error("Error loading regencies:",e),d([])}},N=async e=>{try{let a=await fetch(`http://127.0.0.1:3001/api/regions/regencies/${e}/districts`);if(!a.ok)throw Error("Failed to load districts");let s=await a.json();m(Array.isArray(s)?s:s.data||[])}catch(e){console.error("Error loading districts:",e),m([])}},k=async e=>{try{let a=await fetch(`http://127.0.0.1:3001/api/regions/districts/${e}/villages`);if(!a.ok)throw Error("Failed to load villages");let s=await a.json();x(Array.isArray(s)?s:s.data||[])}catch(e){console.error("Error loading villages:",e),x([])}},w=e=>(y(null),!e||!!/^\d{16}$/.test(e)||(y("NIK harus 16 digit angka"),!1)),S=(e,s)=>{a("section2",{...l,[e]:s}),"provinceId"===e?a("section2",{...l,provinceId:s,regencyId:"",districtId:"",villageId:""}):"regencyId"===e?a("section2",{...l,regencyId:s,districtId:"",villageId:""}):"districtId"===e&&a("section2",{...l,districtId:s,villageId:""})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Identitas Pasien"}),t.jsx("p",{className:"text-gray-600",children:"Lengkapi data identitas dan demografi pasien"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Identitas"}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Sistem Identifikasi Pasien Otomatis"}),t.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Untuk menjaga privasi pasien, sistem akan otomatis membuat:"}),(0,t.jsxs)("ul",{className:"mt-2 text-xs text-blue-600 list-disc list-inside space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"ID Anonim"})," (contoh: P-SBY-00001)"]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"No. RM INAMSOS"})," (contoh: SBY-2025-00001)"]})]}),t.jsx("p",{className:"mt-2 text-xs text-blue-600",children:"Tidak perlu input nama pasien dalam sistem."})]})]})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No. RM Rumah Sakit (Opsional)"}),t.jsx("input",{type:"text",value:l.hospitalRecordNumber,onChange:e=>S("hospitalRecordNumber",e.target.value),placeholder:"Contoh: RM-2025-001234",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nomor rekam medis dari rumah sakit (jika sudah ada)"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIK (Nomor Induk Kependudukan)"}),t.jsx("input",{type:"text",value:l.nik,onChange:e=>{S("nik",e.target.value),w(e.target.value)},onBlur:e=>w(e.target.value),maxLength:16,placeholder:"3201234567890123",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b?"border-red-500":"border-gray-300"}`}),b&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:b}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"16 digit nomor identitas kependudukan (opsional, akan dienkripsi)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Lahir ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:l.dateOfBirth,onChange:e=>S("dateOfBirth",e.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),f>0&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Usia: ",f," tahun"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Jenis Kelamin ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.gender,onChange:e=>S("gender",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Jenis Kelamin"}),t.jsx("option",{value:"MALE",children:"Laki-laki"}),t.jsx("option",{value:"FEMALE",children:"Perempuan"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Provinsi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.provinceId,onChange:e=>S("provinceId",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Provinsi"}),i.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kabupaten/Kota ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.regencyId,onChange:e=>S("regencyId",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!l.provinceId,required:!0,children:[t.jsx("option",{value:"",children:"Pilih Kabupaten/Kota"}),o.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kecamatan ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.districtId,onChange:e=>S("districtId",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!l.regencyId,required:!0,children:[t.jsx("option",{value:"",children:"Pilih Kecamatan"}),u.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kelurahan/Desa ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.villageId,onChange:e=>S("villageId",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!l.districtId,required:!0,children:[t.jsx("option",{value:"",children:"Pilih Kelurahan/Desa"}),g.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detail Alamat (RT/RW, Nama Jalan, dll)"}),t.jsx("textarea",{value:l.addressDetail,onChange:e=>S("addressDetail",e.target.value),rows:3,placeholder:"Contoh: Jl. Merdeka No. 123, RT 001/RW 005",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),t.jsx("input",{type:"tel",value:l.phone,onChange:e=>S("phone",e.target.value),placeholder:"08123456789",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kontak Darurat"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Kontak Darurat"}),t.jsx("input",{type:"text",value:l.emergencyContactName,onChange:e=>S("emergencyContactName",e.target.value),placeholder:"Nama kerabat/keluarga",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hubungan"}),t.jsx("input",{type:"text",value:l.emergencyContactRelationship,onChange:e=>S("emergencyContactRelationship",e.target.value),placeholder:"Contoh: Istri, Anak, Saudara",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon Kontak Darurat"}),t.jsx("input",{type:"tel",value:l.emergencyContactPhone,onChange:e=>S("emergencyContactPhone",e.target.value),placeholder:"08123456789",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})}let x=[{value:"ANTERIOR",label:"Anterior (Depan)"},{value:"POSTERIOR",label:"Posterior (Belakang)"},{value:"LATERAL_LEFT",label:"Lateral Kiri"},{value:"LATERAL_RIGHT",label:"Lateral Kanan"},{value:"OTHER",label:"Lainnya"}];function h({patientId:e,onPhotosChange:a,maxPhotos:s=10,maxFileSizeMB:l=10}){let[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(""),c=(0,r.useRef)(null),u=e=>{URL.revokeObjectURL(i[e].preview);let s=i.filter((a,s)=>s!==e);n(s),a(s)},m=(e,s,t)=>{let r=[...i];r[e]={...r[e],[s]:t},n(r),a(r)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{onDrop:e=>{e.preventDefault();let a=Array.from(e.dataTransfer.files);if(c.current){let e=new DataTransfer;a.forEach(a=>e.items.add(a)),c.current.files=e.files,c.current.dispatchEvent(new Event("change",{bubbles:!0}))}},onDragOver:e=>{e.preventDefault()},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50 hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>c.current?.click(),children:[t.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(d(""),i.length+t.length>s){d(`Maximum ${s} photos allowed`);return}let r=[];t.forEach(e=>{if(!e.type.startsWith("image/")){d(`File ${e.name} is not an image`);return}if(e.size/1048576>l){d(`File ${e.name} exceeds ${l}MB limit`);return}let a=URL.createObjectURL(e);r.push({file:e,preview:a,viewAngle:"ANTERIOR"})});let o=[...i,...r];n(o),a(o),c.current&&(c.current.value="")},className:"hidden"}),t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:t.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsx("p",{className:"mt-3 text-sm font-medium text-gray-900",children:"Klik atau seret foto untuk upload"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["PNG, JPG, JPEG up to ",l,"MB (Max ",s," photos)"]}),(0,t.jsxs)("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:[i.length," / ",s," foto ter-upload"]})]}),o&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-800",children:o})}),i.length>0&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((e,a)=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[(0,t.jsxs)("div",{className:"relative aspect-video mb-3 bg-gray-100 rounded overflow-hidden",children:[t.jsx("img",{src:e.preview,alt:`Clinical photo ${a+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:()=>u(a),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",type:"button",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sudut Pandang"}),t.jsx("select",{value:e.viewAngle||"ANTERIOR",onChange:e=>m(a,"viewAngle",e.target.value),className:"w-full text-xs px-2 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:x.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Deskripsi (Opsional)"}),t.jsx("textarea",{value:e.description||"",onChange:e=>m(a,"description",e.target.value),placeholder:"Contoh: Lesi terlihat jelas di area...",rows:2,className:"w-full text-xs px-2 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.file.name," (",(e.file.size/1024).toFixed(0)," KB)"]})]})]},a))}),0===i.length&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Panduan Foto Klinis"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[t.jsx("li",{children:"Minimal 3 foto dari sudut berbeda (anterior, lateral, posterior)"}),t.jsx("li",{children:"Pastikan pencahayaan baik dan fokus jelas"}),t.jsx("li",{children:"Sertakan penggaris atau referensi ukuran jika memungkinkan"}),t.jsx("li",{children:"Tutup identitas pasien yang tidak perlu (wajah, tato, dll)"}),(0,t.jsxs)("li",{children:["Format: JPG, PNG (max ",l,"MB per foto)"]})]})]})]})})]})}let p={100:"Normal; tidak ada keluhan atau tanda penyakit",90:"Aktivitas normal; tanda/gejala minimal",80:"Aktivitas normal dengan usaha; tanda/gejala penyakit",70:"Rawat diri sendiri; tidak mampu aktivitas normal",60:"Memerlukan bantuan kadang-kadang",50:"Memerlukan bantuan dan perawatan medis",40:"Cacat; memerlukan perawatan khusus",30:"Sangat cacat; diindikasikan rawat inap",20:"Sangat sakit; rawat inap dan supportif aktif",10:"Moribund; proses fatal berkembang cepat",0:"Meninggal"};function b(){var e,a;let{getSection:s,updateSection:l}=c(),i=s("section3")||{},n={karnofskyScore:i.karnofskyScore,painScale:i.painScale||0,height:i.height,weight:i.weight,bmi:i.bmi,chiefComplaint:i.chiefComplaint||"",durationOfSymptoms:i.durationOfSymptoms,comorbidities:i.comorbidities||"",cancerHistory:i.cancerHistory||"",familyCancerHistory:i.familyCancerHistory||"",swellingPresent:i.swellingPresent||!1,swellingSize:i.swellingSize||"",skinChanges:i.skinChanges||"",neurovascularStatus:i.neurovascularStatus||"",rangeOfMotion:i.rangeOfMotion||"",physicalExamGeneral:i.physicalExamGeneral||"",physicalExamHeadNeck:i.physicalExamHeadNeck||"",physicalExamThorax:i.physicalExamThorax||"",physicalExamAbdomen:i.physicalExamAbdomen||"",physicalExamExtremitiesSpine:i.physicalExamExtremitiesSpine||"",localTumorStatus:i.localTumorStatus||"",clinicalPhotos:i.clinicalPhotos||[]};(0,r.useEffect)(()=>{if(n.height&&n.weight){let e=n.height/100,a=n.weight/(e*e);a!==n.bmi&&l("section3",{...n,bmi:parseFloat(a.toFixed(2))})}},[n.height,n.weight]);let o=(e,a)=>{l("section3",{...n,[e]:a})},d=(e=n.bmi)?e<18.5?{label:"Underweight",color:"text-yellow-600"}:e<25?{label:"Normal",color:"text-green-600"}:e<30?{label:"Overweight",color:"text-orange-600"}:{label:"Obese",color:"text-red-600"}:{label:"",color:""};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Data Klinis & Presentasi"}),t.jsx("p",{className:"text-gray-600",children:"Penilaian kondisi klinis pasien saat pertama kali datang"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Penilaian Performa & Nyeri"}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Karnofsky Performance Score"}),(0,t.jsxs)("select",{value:n.karnofskyScore||"",onChange:e=>o("karnofskyScore",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih Skor Karnofsky"}),Object.entries(p).reverse().map(([e,a])=>(0,t.jsxs)("option",{value:e,children:[e," - ",a]},e))]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Skala 0-100 untuk menilai kemampuan fungsional pasien (0 = meninggal, 100 = normal)"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skala Nyeri (VAS 0-10)"}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:n.painScale||0,onChange:e=>o("painScale",parseInt(e.target.value)),className:"w-full h-3 bg-gradient-to-r from-green-200 via-yellow-200 to-red-500 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, #86efac 0%, #fde047 50%, #ef4444 100%)"}}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"0 (Tidak nyeri)"}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.painScale??0}),t.jsx("div",{className:"text-sm font-medium text-gray-600",children:null==(a=n.painScale)?"":0===a?"Tidak ada nyeri":a<=3?"Nyeri ringan":a<=6?"Nyeri sedang":a<=9?"Nyeri berat":"Nyeri sangat berat"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"10 (Sangat nyeri)"})]})]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Visual Analog Scale (VAS): 0 = tidak ada nyeri, 10 = nyeri terburuk yang bisa dibayangkan"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durasi Gejala (bulan)"}),t.jsx("input",{type:"number",min:"0",step:"0.5",value:n.durationOfSymptoms||"",onChange:e=>o("durationOfSymptoms",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Contoh: 3 (untuk 3 bulan)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Berapa lama pasien mengalami gejala (dalam bulan)"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pengukuran Antropometri"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tinggi Badan (cm)"}),t.jsx("input",{type:"number",min:"0",step:"0.1",value:n.height||"",onChange:e=>o("height",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Contoh: 170",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Berat Badan (kg)"}),t.jsx("input",{type:"number",min:"0",step:"0.1",value:n.weight||"",onChange:e=>o("weight",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Contoh: 65",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.bmi&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Body Mass Index (BMI)"}),t.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Dihitung otomatis dari tinggi dan berat badan"})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-900",children:n.bmi.toFixed(1)}),t.jsx("div",{className:`text-sm font-medium ${d.color}`,children:d.label})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Riwayat Klinis"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keluhan Utama ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:n.chiefComplaint||"",onChange:e=>o("chiefComplaint",e.target.value),rows:3,placeholder:"Contoh: Benjolan di paha kanan yang membesar sejak 6 bulan terakhir, disertai nyeri saat beraktivitas",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Keluhan utama yang membawa pasien datang ke rumah sakit"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komorbiditas"}),t.jsx("textarea",{value:n.comorbidities||"",onChange:e=>o("comorbidities",e.target.value),rows:3,placeholder:"Contoh: Diabetes Melitus tipe 2, Hipertensi, Osteoarthritis",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Penyakit penyerta atau kondisi medis lain yang dimiliki pasien"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Riwayat Kanker Pribadi"}),t.jsx("textarea",{value:n.cancerHistory||"",onChange:e=>o("cancerHistory",e.target.value),rows:3,placeholder:"Contoh: Riwayat osteosarcoma femur kanan pada usia 25 tahun (2015), sudah dilakukan amputasi dan kemoterapi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Riwayat kanker yang pernah diderita pasien sebelumnya (jika ada)"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Riwayat Kanker Keluarga"}),t.jsx("textarea",{value:n.familyCancerHistory||"",onChange:e=>o("familyCancerHistory",e.target.value),rows:3,placeholder:"Contoh: Ayah - Ca Kolon (meninggal usia 60 tahun), Kakak - Leukemia (sembuh)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Riwayat kanker pada keluarga pasien (orang tua, saudara kandung, anak)"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pemeriksaan Fisik - Muskuloskeletal Spesifik"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Pemeriksaan fisik yang spesifik untuk tumor muskuloskeletal"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("input",{type:"checkbox",checked:n.swellingPresent||!1,onChange:e=>o("swellingPresent",e.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Terdapat pembengkakan/massa"})]}),n.swellingPresent&&(0,t.jsxs)("div",{className:"ml-8",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ukuran Pembengkakan/Massa"}),t.jsx("input",{type:"text",value:n.swellingSize||"",onChange:e=>o("swellingSize",e.target.value),placeholder:"Contoh: 10 x 8 x 5 cm",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perubahan Kulit"}),t.jsx("input",{type:"text",value:n.skinChanges||"",onChange:e=>o("skinChanges",e.target.value),placeholder:"Contoh: Eritema, ulserasi, peningkatan suhu lokal",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Neurovaskular"}),(0,t.jsxs)("select",{value:n.neurovascularStatus||"",onChange:e=>o("neurovascularStatus",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih Status"}),t.jsx("option",{value:"Normal",children:"Normal - Tidak ada defisit"}),t.jsx("option",{value:"Compromised",children:"Terganggu - Ada defisit neurologis/vaskular"})]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Penilaian fungsi saraf dan pembuluh darah di sekitar tumor"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rentang Gerak (Range of Motion)"}),t.jsx("input",{type:"text",value:n.rangeOfMotion||"",onChange:e=>o("rangeOfMotion",e.target.value),placeholder:"Contoh: Fleksi 90\xb0, Ekstensi penuh, Terbatas 50% pada abduksi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Penilaian rentang gerak sendi yang terkait dengan lokasi tumor"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pemeriksaan Fisik Terstruktur (INAMSOS)"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Pemeriksaan fisik sistemik menurut standar INAMSOS"}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Generalisata"}),t.jsx("textarea",{value:n.physicalExamGeneral||"",onChange:e=>o("physicalExamGeneral",e.target.value),rows:3,placeholder:"Contoh: Keadaan umum baik, kesadaran compos mentis, gizi baik, tekanan darah 120/80 mmHg, nadi 80x/menit, nafas 20x/menit, suhu 36.5\xb0C",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Kondisi umum pasien, tanda-tanda vital, dan status gizi"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kepala & Leher"}),t.jsx("textarea",{value:n.physicalExamHeadNeck||"",onChange:e=>o("physicalExamHeadNeck",e.target.value),rows:2,placeholder:"Contoh: Konjungtiva anemis (-/-), sklera ikterik (-/-), tidak ada pembesaran KGB leher",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thoraks (Paru & Jantung)"}),t.jsx("textarea",{value:n.physicalExamThorax||"",onChange:e=>o("physicalExamThorax",e.target.value),rows:2,placeholder:"Contoh: Simetris, retraksi (-), suara napas vesikuler +/+, ronki -/-, wheezing -/-, bunyi jantung I-II reguler, murmur (-)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abdomen"}),t.jsx("textarea",{value:n.physicalExamAbdomen||"",onChange:e=>o("physicalExamAbdomen",e.target.value),rows:2,placeholder:"Contoh: Datar, supel, bising usus (+) normal, nyeri tekan (-), hepatomegali (-), splenomegali (-)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ekstremitas & Tulang Belakang"}),t.jsx("textarea",{value:n.physicalExamExtremitiesSpine||"",onChange:e=>o("physicalExamExtremitiesSpine",e.target.value),rows:3,placeholder:"Contoh: Tidak ada deformitas tulang belakang, ekstremitas atas dalam batas normal, ekstremitas bawah kanan terdapat massa (lihat pemeriksaan lokal)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Pemeriksaan ekstremitas secara umum dan tulang belakang"})]})]}),t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 space-y-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-yellow-600 mr-3 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Status Lokalisata (Pemeriksaan Lokal Tumor) - CRITICAL"}),t.jsx("p",{className:"text-sm text-yellow-800 mb-4",children:"Pemeriksaan fokus pada lokasi tumor - SANGAT PENTING untuk dokumentasi INAMSOS"}),t.jsx("label",{className:"block text-sm font-medium text-yellow-900 mb-2",children:"Deskripsi Pemeriksaan Lokal"}),t.jsx("textarea",{value:n.localTumorStatus||"",onChange:e=>o("localTumorStatus",e.target.value),rows:5,placeholder:"Contoh: Look: Massa di 1/3 distal femur kanan, ukuran \xb112x10x8 cm, batas tidak tegas, kulit di atasnya tampak eritema Feel: Massa teraba keras, tidak mobile, nyeri tekan (+), peningkatan suhu lokal (+), tidak ada fluktuasi Move: ROM lutut kanan terbatas 50%, nyeri saat fleksi, krepitasi (-) Neurovaskular: CRT <2 detik, pulsasi a. dorsalis pedis (+) kuat, sensibilitas utuh, motorik 5/5",className:"w-full px-4 py-3 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 bg-white"}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-yellow-700",children:[t.jsx("strong",{children:"Format Look-Feel-Move:"})," Inspeksi (Look), Palpasi (Feel), Range of Motion (Move), Status Neurovaskular"]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto Klinis (Opsional)"}),t.jsx(h,{patientId:void 0,onPhotosChange:e=>o("clinicalPhotos",e),maxPhotos:10,maxFileSizeMB:10})]}),n.chiefComplaint&&void 0!==n.karnofskyScore&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("p",{className:"font-medium text-green-900",children:"Data Klinis Minimum Lengkap"}),(0,t.jsxs)("div",{className:"mt-2 text-green-800 space-y-1",children:[(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"Karnofsky Score:"})," ",n.karnofskyScore]}),(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"Pain Scale:"})," ",n.painScale??0,"/10"]}),n.bmi&&(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"BMI:"})," ",n.bmi.toFixed(1)," (",d.label,")"]}),n.clinicalPhotos&&n.clinicalPhotos.length>0&&(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"Foto Klinis:"})," ",n.clinicalPhotos.length," foto"]})]})]})]})})]})}let y={X_RAY:{label:"Conventional X-ray (Rontgen)",required:!0,bgColor:"bg-blue-50",borderColor:"border-blue-300",headerColor:"bg-blue-100",icon:"\uD83D\uDCF7",placeholder:"Contoh: Lesi litik di distal femur kanan dengan destruksi korteks anterior, soft tissue mass (+), periosteal reaction sunburst appearance, ukuran lesi 8x6 cm..."},MRI:{label:"MRI (Magnetic Resonance Imaging)",required:!1,bgColor:"bg-white",borderColor:"border-gray-300",headerColor:"bg-gray-50",icon:"\uD83E\uDDF2",placeholder:"Contoh: Massa intramedular di distal femur dengan ekstensi ekstraosseous, T1 hypointense, T2 hyperintense dengan enhancing septa, invasi ke neurovascular bundle (-), skip lesion (-), joint invasion (-)..."},CT_SCAN:{label:"CT Scan (Computed Tomography)",required:!1,bgColor:"bg-white",borderColor:"border-gray-300",headerColor:"bg-gray-50",icon:"\uD83D\uDD2C",placeholder:"Contoh: Massa jaringan lunak dengan komponen kalsifikasi mineralisasi matriks, ukuran 8x6x5 cm, melibatkan kompartemen anterior thigh, tidak tampak metastasis paru..."},BONE_SCAN:{label:"Bone Scan (Skintigrafi Tulang)",required:!1,bgColor:"bg-white",borderColor:"border-gray-300",headerColor:"bg-gray-50",icon:"",placeholder:"Contoh: Peningkatan uptake Tc-99m MDP di distal femur kanan, tidak tampak hot spot di tulang lain, tidak ada tanda metastasis tulang..."},PET_SCAN:{label:"PET Scan (Positron Emission Tomography)",required:!1,bgColor:"bg-white",borderColor:"border-gray-300",headerColor:"bg-gray-50",icon:"",placeholder:"Contoh: Peningkatan uptake FDG dengan SUVmax 8.5 di lesi primer distal femur kanan, tidak tampak lymph node involvement, tidak ada distant metastasis..."}};function f(){let{getSection:e,updateSection:a}=c(),s=e("section4"),l=s?.radiologyModalities||[{modality:"X_RAY",images:[]},{modality:"MRI",images:[]},{modality:"CT_SCAN",images:[]},{modality:"BONE_SCAN",images:[]},{modality:"PET_SCAN",images:[]}],[i,n]=(0,r.useState)(l),[o,d]=(0,r.useState)(new Set(["X_RAY"])),[u,m]=(0,r.useState)(null),g=(0,r.useCallback)(e=>{n(e),a("section4",{...s,radiologyModalities:e})},[s,a]),x=(e,a,s)=>{g(i.map(t=>t.modality===e?{...t,[a]:s}:t))},h=(e,a)=>{if(!a||0===a.length)return;let s=Array.from(a).map(e=>({fileName:e.name,fileSize:e.size,fileType:e.type,uploadDate:new Date().toISOString(),file:e})),t=i.find(a=>a.modality===e);t&&x(e,"images",[...t.images,...s])},p=(e,a)=>{let s=i.find(a=>a.modality===e);s&&x(e,"images",s.images.filter((e,s)=>s!==a))},b=(e,a)=>{e.preventDefault(),m(a)},f=e=>{e.preventDefault(),m(null)},j=(e,a)=>{e.preventDefault(),m(null),h(a,e.dataTransfer.files)},v=e=>{d(a=>{let s=new Set(a);return s.has(e)?s.delete(e):s.add(e),s})},N=e=>e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB",k=e=>{let a=y[e],s=i.find(a=>a.modality===e),r=o.has(e),l=u===e;return s?(0,t.jsxs)("div",{className:`rounded-lg border-2 ${a.borderColor} ${a.bgColor} overflow-hidden transition-all`,children:[(0,t.jsxs)("div",{className:`${a.headerColor} px-6 py-4 flex items-center justify-between cursor-pointer`,onClick:()=>!a.required&&v(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:a.icon}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[a.label,a.required&&t.jsx("span",{className:"ml-2 text-red-500 text-sm",children:"*WAJIB"})]}),s.images.length>0&&(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[s.images.length," file(s) uploaded",s.studyDate&&`  Study: ${new Date(s.studyDate).toLocaleDateString("id-ID")}`]})]})]}),!a.required&&t.jsx("button",{onClick:a=>{a.stopPropagation(),v(e)},className:"text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:`w-6 h-6 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(a.required||r)&&(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Pemeriksaan ",a.required&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:s.studyDate||"",onChange:a=>x(e,"studyDate",a.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:a.required})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Gambar ",a.required&&t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{onDragOver:a=>b(a,e),onDragLeave:f,onDrop:a=>j(a,e),className:`
                  border-2 border-dashed rounded-lg p-6 text-center
                  transition-all cursor-pointer
                  ${l?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}
                `,children:[t.jsx("input",{type:"file",multiple:!0,accept:"image/*,.dcm",onChange:a=>h(e,a.target.files),className:"hidden",id:`file-upload-${e}`}),(0,t.jsxs)("label",{htmlFor:`file-upload-${e}`,className:"cursor-pointer flex flex-col items-center",children:[t.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Klik untuk upload atau drag & drop file"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, DICOM (.dcm) - Max 10MB per file"})]})]}),s.images.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["File yang diupload (",s.images.length,"):"]}),s.images.map((a,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.fileName}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[N(a.fileSize),"  ",new Date(a.uploadDate).toLocaleString("id-ID")]})]})]}),t.jsx("button",{onClick:()=>p(e,s),className:"ml-3 px-3 py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",title:"Hapus file",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},s))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temuan dan Interpretasi ",a.required&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:s.findings||"",onChange:a=>x(e,"findings",a.target.value),rows:4,placeholder:a.placeholder,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y",required:a.required}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Jelaskan lokasi lesi, karakteristik (litik/blastik/mixed), ukuran, ekstensi jaringan lunak, invasi struktur sekitar, dan tanda metastasis"})]})]})]},e):null};return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Petunjuk Pemeriksaan Radiologi"}),(0,t.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:[" ",t.jsx("strong",{children:"X-ray (Rontgen)"})," adalah pemeriksaan WAJIB dan harus diisi"]}),t.jsx("li",{children:" Upload gambar dalam format JPG, PNG, atau DICOM (.dcm)"}),t.jsx("li",{children:" Anda dapat mengupload beberapa gambar untuk setiap modalitas"}),t.jsx("li",{children:" Pemeriksaan lain (MRI, CT, Bone Scan, PET) bersifat opsional"}),t.jsx("li",{children:" Klik header section untuk membuka/tutup pemeriksaan opsional"})]})]})]})}),k("X_RAY"),k("MRI"),k("CT_SCAN"),k("BONE_SCAN"),k("PET_SCAN"),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Ringkasan Pemeriksaan"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-xs",children:Object.entries(y).map(([e,a])=>{let s=i.find(a=>a.modality===e),r=s&&(s.findings||s.images.length>0);return(0,t.jsxs)("div",{className:`px-3 py-2 rounded-lg border ${r?"bg-green-50 border-green-300 text-green-800":a.required?"bg-yellow-50 border-yellow-300 text-yellow-800":"bg-gray-100 border-gray-300 text-gray-600"}`,children:[(0,t.jsxs)("div",{className:"font-medium",children:[a.icon," ",a.label.split(" ")[0]]}),t.jsx("div",{className:"text-xs mt-1",children:r?" Lengkap":a.required?" Wajib":" Kosong"})]},e)})})]})]})}function j(){let{getSection:e,updateSection:a}=c(),s=e("section4")||{},[l,i]=(0,r.useState)(s.pathologyFiles||[]),[n,o]=(0,r.useState)(!1),d=(0,r.useCallback)(e=>{i(e),a("section4",{...s,pathologyFiles:e})},[s,a]),u=e=>{e&&0!==e.length&&d([...l,...Array.from(e).map(e=>({fileName:e.name,fileSize:e.size,fileType:e.type,uploadDate:new Date().toISOString(),file:e}))])},m=e=>{d(l.filter((a,s)=>s!==e))},g=e=>e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB";return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload Hasil Patologi (Pathology Reports)"}),(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),o(!0)},onDragLeave:e=>{e.preventDefault(),o(!1)},onDrop:e=>{e.preventDefault(),o(!1),u(e.dataTransfer.files)},className:`
          border-2 border-dashed rounded-lg p-6 text-center
          transition-all cursor-pointer
          ${n?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-400 hover:bg-gray-50"}
        `,children:[t.jsx("input",{type:"file",multiple:!0,accept:".pdf,image/*,.dcm",onChange:e=>u(e.target.files),className:"hidden",id:"pathology-file-upload"}),(0,t.jsxs)("label",{htmlFor:"pathology-file-upload",className:"cursor-pointer flex flex-col items-center",children:[t.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Klik untuk upload atau drag & drop file laporan"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DICOM - Max 10MB per file"})]})]}),l.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["File yang diupload (",l.length,"):"]}),l.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("svg",{className:"w-5 h-5 text-purple-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.fileName}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[g(e.fileSize),"  ",new Date(e.uploadDate).toLocaleString("id-ID")]})]})]}),t.jsx("button",{onClick:()=>m(a),className:"ml-3 px-3 py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",title:"Hapus file",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},a))]})]})}let v={GRADE_I:"Grade I - Sedikit/tidak ada nekrosis (<50%)",GRADE_II:"Grade II - Nekrosis 50-90%",GRADE_III:"Grade III - Nekrosis 90-99%",GRADE_IV:"Grade IV - Nekrosis 100% (no viable tumor)"};function N(){let{getSection:e,updateSection:a}=c(),s=e("section4")||{},l={laboratory:s.laboratory||{},radiology:s.radiology||{},mirrelScore:s.mirrelScore||{},pathology:s.pathology||{},radiologyModalities:s.radiologyModalities||[],pathologyFiles:s.pathologyFiles||[]};(0,r.useEffect)(()=>{let{siteScore:e,painScore:s,lesionType:t,sizeScore:r}=l.mirrelScore||{};if(e&&s&&t&&r){let i=e+s+("BLASTIC"===t?1:"MIXED"===t?2:3)+r,n="LOW";i>=11?n="HIGH":i>=8&&(n="MODERATE"),a("section4",{...l,mirrelScore:{...l.mirrelScore,totalScore:i,fractureRisk:n}})}},[l.mirrelScore?.siteScore,l.mirrelScore?.painScore,l.mirrelScore?.lesionType,l.mirrelScore?.sizeScore]);let i=(e,s)=>{a("section4",{...l,laboratory:{...l.laboratory,[e]:s}})},n=(e,s)=>{a("section4",{...l,mirrelScore:{...l.mirrelScore,[e]:s}})},o=(e,s)=>{a("section4",{...l,pathology:{...l.pathology,[e]:s}})},d=e=>{o("ihkMarkers",(l.pathology?.ihkMarkers||[]).filter((a,s)=>s!==e))},u=(e,a,s)=>{let t=[...l.pathology?.ihkMarkers||[]];t[e]={...t[e],[a]:s},o("ihkMarkers",t)},m=e=>"HIGH"===e?"bg-red-100 border-red-300 text-red-900":"MODERATE"===e?"bg-yellow-100 border-yellow-300 text-yellow-900":"LOW"===e?"bg-green-100 border-green-300 text-green-900":"bg-gray-100 border-gray-300 text-gray-900";return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pemeriksaan Penunjang Diagnostik"}),t.jsx("p",{className:"text-gray-600",children:"Hasil laboratorium, radiologi, dan pemeriksaan patologi"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hasil Laboratorium"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hemoglobin (g/dL)"}),t.jsx("input",{type:"number",step:"0.1",value:l.laboratory?.hemoglobin||"",onChange:e=>i("hemoglobin",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 12-16 (F), 13-17 (M)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Leukosit (x10/L)"}),t.jsx("input",{type:"number",step:"0.1",value:l.laboratory?.leukocytes||"",onChange:e=>i("leukocytes",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 4-10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trombosit (x10/L)"}),t.jsx("input",{type:"number",step:"1",value:l.laboratory?.platelets||"",onChange:e=>i("platelets",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 150-400",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Alkaline Phosphatase (U/L)",t.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"Penanda tumor tulang"})]}),t.jsx("input",{type:"number",step:"1",value:l.laboratory?.alkalinePhosphatase||"",onChange:e=>i("alkalinePhosphatase",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 30-120",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["LDH (U/L)",t.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"Penanda tumor"})]}),t.jsx("input",{type:"number",step:"1",value:l.laboratory?.ldh||"",onChange:e=>i("ldh",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 140-280",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kalsium (mg/dL)"}),t.jsx("input",{type:"number",step:"0.1",value:l.laboratory?.calcium||"",onChange:e=>i("calcium",e.target.value?parseFloat(e.target.value):void 0),placeholder:"Normal: 8.5-10.5",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),t.jsx(f,{}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mirrel Score Calculator"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Penilaian risiko fraktur patologis (Pathological Fracture Risk)"})]}),l.mirrelScore?.totalScore&&t.jsx("div",{className:`px-4 py-2 rounded-lg border-2 ${m(l.mirrelScore.fractureRisk)}`,children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.mirrelScore.totalScore}),(0,t.jsxs)("div",{className:"text-xs font-medium",children:[l.mirrelScore.fractureRisk," RISK"]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi (Site) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.mirrelScore?.siteScore||"",onChange:e=>n("siteScore",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Lokasi"}),t.jsx("option",{value:"1",children:"1 - Upper Limb (Ekstremitas Atas)"}),t.jsx("option",{value:"2",children:"2 - Lower Limb (Ekstremitas Bawah)"}),t.jsx("option",{value:"3",children:"3 - Peritrochanteric (Trokanter)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nyeri (Pain) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.mirrelScore?.painScore||"",onChange:e=>n("painScore",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Tingkat Nyeri"}),t.jsx("option",{value:"1",children:"1 - Mild (Ringan)"}),t.jsx("option",{value:"2",children:"2 - Moderate (Sedang)"}),t.jsx("option",{value:"3",children:"3 - Functional (Nyeri fungsional)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipe Lesi (Lesion Type) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.mirrelScore?.lesionType||"",onChange:e=>n("lesionType",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Tipe Lesi"}),t.jsx("option",{value:"BLASTIC",children:"Blastic (1 point)"}),t.jsx("option",{value:"MIXED",children:"Mixed (2 points)"}),t.jsx("option",{value:"LYTIC",children:"Lytic (3 points)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ukuran (Size) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.mirrelScore?.sizeScore||"",onChange:e=>n("sizeScore",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Ukuran Lesi"}),(0,t.jsxs)("option",{value:"1",children:["1 - ","<","1/3 diameter tulang"]}),t.jsx("option",{value:"2",children:"2 - 1/3 - 2/3 diameter tulang"}),(0,t.jsxs)("option",{value:"3",children:["3 - ",">","2/3 diameter tulang"]})]})]})]}),l.mirrelScore?.totalScore&&t.jsx("div",{className:`mt-4 p-4 rounded-lg border-2 ${m(l.mirrelScore.fractureRisk)}`,children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("p",{className:"font-medium",children:"Interpretasi Mirrel Score:"}),(0,t.jsxs)("p",{className:"mt-1",children:["Total Skor: ",t.jsx("span",{className:"font-bold",children:l.mirrelScore.totalScore})," / 12"]}),(0,t.jsxs)("p",{className:"mt-1",children:["Risiko Fraktur: ",t.jsx("span",{className:"font-bold",children:l.mirrelScore.fractureRisk})]}),(0,t.jsxs)("p",{className:"mt-2 text-xs",children:["LOW"===l.mirrelScore.fractureRisk&&"Risiko rendah fraktur patologis. Observasi rutin.","MODERATE"===l.mirrelScore.fractureRisk&&"Risiko sedang fraktur patologis. Pertimbangkan profilaksis.","HIGH"===l.mirrelScore.fractureRisk&&"Risiko tinggi fraktur patologis. Intervensi profilaksis direkomendasikan."]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hasil Patologi"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jenis Biopsi"}),(0,t.jsxs)("select",{value:l.pathology?.biopsyType||"",onChange:e=>o("biopsyType",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih Jenis Biopsi"}),t.jsx("option",{value:"Core needle",children:"Core Needle Biopsy"}),t.jsx("option",{value:"Incisional",children:"Incisional Biopsy"}),t.jsx("option",{value:"Excisional",children:"Excisional Biopsy"}),t.jsx("option",{value:"Open",children:"Open Biopsy"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Biopsi"}),t.jsx("input",{type:"date",value:l.pathology?.biopsyDate||"",onChange:e=>o("biopsyDate",e.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temuan Patologi Anatomi"}),t.jsx("textarea",{value:l.pathology?.pathologyFindings||"",onChange:e=>o("pathologyFindings",e.target.value),rows:4,placeholder:"Contoh: Tampak jaringan nekrosis luas (90%), sel tumor viabel minimal, respon baik terhadap kemoterapi...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HUVOS Grade (Respon Kemoterapi)"}),(0,t.jsxs)("select",{value:l.pathology?.huvosGrade||"",onChange:e=>o("huvosGrade",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih HUVOS Grade"}),Object.entries(v).map(([e,a])=>t.jsx("option",{value:e,children:a},e))]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Grading respons terhadap kemoterapi berdasarkan persentase nekrosis tumor"})]}),l.pathology?.huvosGrade&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persentase Nekrosis Tumor (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:l.pathology?.necrosisPercentage||"",onChange:e=>o("necrosisPercentage",e.target.value?parseInt(e.target.value):void 0),placeholder:"Contoh: 95",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Immunohistochemistry (IHK) Markers"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Penanda imunogenetik untuk identifikasi tumor (ER, PR, HER2, S100, CD34, dll)"})]}),t.jsx("button",{onClick:()=>{o("ihkMarkers",[...l.pathology?.ihkMarkers||[],{marker:"",result:""}])},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"+ Tambah Marker"})]}),l.pathology?.ihkMarkers&&l.pathology.ihkMarkers.length>0?t.jsx("div",{className:"space-y-3",children:l.pathology.ihkMarkers.map((e,a)=>(0,t.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Penanda"}),t.jsx("input",{type:"text",value:e.marker,onChange:e=>u(a,"marker",e.target.value),placeholder:"Contoh: S100, ER, PR, HER2, CD34",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hasil"}),t.jsx("input",{type:"text",value:e.result,onChange:e=>u(a,"result",e.target.value),placeholder:"Contoh: Positive, Negative, Score 3+",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),t.jsx("button",{onClick:()=>d(a),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},a))}):t.jsx("p",{className:"text-sm text-gray-500 italic py-3",children:'Tidak ada marker IHK yang ditambahkan. Klik tombol "Tambah Marker" untuk menambah penanda immunohistokimia.'})]}),t.jsx("div",{className:"border-t border-gray-200 pt-6",children:t.jsx(j,{})})]})]})}var k=s(3267),w=s.n(k);w()(async()=>{},{loadableGenerated:{modules:["D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\components\\patients\\wizard\\sections\\Section5DiagnosisLocation.tsx -> ../../../classifications/WhoClassificationTree"]},ssr:!1,loading:()=>t.jsx("div",{className:"animate-pulse bg-gray-100 h-64 rounded-lg"})});let S=w()(async()=>{},{loadableGenerated:{modules:["D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\components\\patients\\wizard\\sections\\Section5DiagnosisLocation.tsx -> ../../../classifications/BoneTumorTree"]},ssr:!1}),C=w()(async()=>{},{loadableGenerated:{modules:["D:\\Project\\Tumor Registry\\INAMSOS Application Desktop\\frontend\\src\\components\\patients\\wizard\\sections\\Section5DiagnosisLocation.tsx -> ../../../classifications/SoftTissueTumorTree"]},ssr:!1});function I(){let{getSection:e,updateSection:a}=c(),s=e("section1"),l=e("section5")||{},i={whoClassificationId:l.whoClassificationId||"",whoClassificationCode:l.whoClassificationCode||"",whoClassificationName:l.whoClassificationName||"",boneLocationId:l.boneLocationId||"",boneLocationName:l.boneLocationName||"",softTissueLocationId:l.softTissueLocationId||"",softTissueLocationName:l.softTissueLocationName||"",tumorSide:l.tumorSide||"",specificAnatomicalSite:l.specificAnatomicalSite||""},[n,o]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[m,g]=(0,r.useState)(!1),x=s?.pathologyTypeName||"",h=s?.pathologyType||"",p=h.includes("bone")||x.includes("Tulang"),b=h.includes("soft")||x.includes("Jaringan Lunak");(0,r.useEffect)(()=>{p?y():b&&f()},[p,b]);let y=async()=>{try{g(!0);let e=await fetch("http://127.0.0.1:3001/api/locations/bone");if(!e.ok)throw Error("Failed to load bone locations");let a=await e.json();o(Array.isArray(a)?a:a.data||[])}catch(e){console.error("Error loading bone locations:",e),o([])}finally{g(!1)}},f=async()=>{try{g(!0);let e=await fetch("http://127.0.0.1:3001/api/locations/soft-tissue");if(!e.ok)throw Error("Failed to load soft tissue locations");let a=await e.json();u(Array.isArray(a)?a:a.data||[])}catch(e){console.error("Error loading soft tissue locations:",e),u([])}finally{g(!1)}},j=e=>{a("section5",{...i,whoClassificationId:e.id,whoClassificationCode:e.code,whoClassificationName:e.name})},v=(e,s)=>{a("section5",{...i,[e]:s})};return s?.pathologyType?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Diagnosis & Lokasi Tumor"}),t.jsx("p",{className:"text-gray-600",children:"Pilih klasifikasi WHO dan lokasi anatomis tumor muskuloskeletal"}),(0,t.jsxs)("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:["Jenis Patologi: ",x]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Klasifikasi Tumor WHO (5th Edition)",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)(r.Suspense,{fallback:t.jsx("div",{className:"animate-pulse bg-gray-100 h-64 rounded-lg"}),children:[p&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Pilih dari 57 klasifikasi tumor tulang WHO (5th Edition, 2020)"}),t.jsx(S,{selectedId:i.whoClassificationId,onSelect:j,searchable:!0,showCodes:!0})]}),b&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Pilih dari 68 klasifikasi tumor jaringan lunak WHO (5th Edition, 2020)"}),t.jsx(C,{selectedId:i.whoClassificationId,onSelect:j,searchable:!0,showCodes:!0})]}),!p&&!b&&t.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Klasifikasi untuk jenis patologi ",x," akan ditampilkan di sini."]})})]}),i.whoClassificationId&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-800",children:"Klasifikasi Dipilih:"}),(0,t.jsxs)("p",{className:"text-sm text-green-900 font-semibold mt-1",children:[i.whoClassificationCode," - ",i.whoClassificationName]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Lokasi Anatomis",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi Tulang ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:i.boneLocationId||"",onChange:e=>{let s=e.target.value,t=n.find(e=>e.id===s);a("section5",{...i,boneLocationId:s,boneLocationName:t?.name})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Lokasi Tulang"}),n.filter(e=>1===e.level).map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Pilih lokasi tulang utama. Anda dapat menambahkan detail spesifik di bawah."})]}),b&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi Jaringan Lunak ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:i.softTissueLocationId||"",onChange:e=>{let s=e.target.value,t=d.find(e=>e.id===s);a("section5",{...i,softTissueLocationId:s,softTissueLocationName:t?.name})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Pilih Lokasi Jaringan Lunak"}),d.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name,e.anatomicalRegion&&` (${e.anatomicalRegion})`]},e.id))]}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Pilih lokasi jaringan lunak berdasarkan region anatomis."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sisi/Lateralitas Tumor ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"LEFT",label:"Kiri",icon:""},{value:"RIGHT",label:"Kanan",icon:""},{value:"BILATERAL",label:"Bilateral",icon:""},{value:"MIDLINE",label:"Midline",icon:""}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>v("tumorSide",e.value),className:`
                  px-4 py-3 rounded-lg border-2 text-center transition-all
                  ${i.tumorSide===e.value?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-200 bg-white text-gray-700 hover:border-blue-300"}
                `,children:[t.jsx("div",{className:"text-2xl mb-1",children:e.icon}),t.jsx("div",{className:"text-sm font-medium",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detail Spesifik Lokasi Anatomis"}),t.jsx("textarea",{value:i.specificAnatomicalSite||"",onChange:e=>v("specificAnatomicalSite",e.target.value),rows:3,placeholder:"Contoh: Distal femur, 5 cm dari sendi lutut, melibatkan korteks anterior",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Berikan deskripsi detail lokasi tumor untuk dokumentasi klinis yang lengkap."})]})]}),i.whoClassificationId&&(i.boneLocationId||i.softTissueLocationId)&&i.tumorSide&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-blue-600 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"text-sm",children:[t.jsx("p",{className:"font-medium text-blue-900",children:"Diagnosis & Lokasi Lengkap"}),(0,t.jsxs)("div",{className:"mt-2 text-blue-800 space-y-1",children:[(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"WHO:"})," ",i.whoClassificationCode," -"," ",i.whoClassificationName]}),(0,t.jsxs)("p",{children:[t.jsx("span",{className:"font-semibold",children:"Lokasi:"})," ",i.boneLocationName||i.softTissueLocationName," (",i.tumorSide,")"]})]})]})]})})]}):t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-yellow-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-yellow-800 font-medium",children:"Jenis Patologi Belum Dipilih"}),t.jsx("p",{className:"text-yellow-700 mt-1",children:"Silakan kembali ke Bagian 1 untuk memilih jenis patologi terlebih dahulu."})]})]})})}let T={IA:"Stage IA - Low grade, Intracompartmental, No metastasis",IB:"Stage IB - Low grade, Extracompartmental, No metastasis",IIA:"Stage IIA - High grade, Intracompartmental, No metastasis",IIB:"Stage IIB - High grade, Extracompartmental, No metastasis",III:"Stage III - Any grade, Any site, Regional or distant metastasis"};function A(){let{getSection:e,updateSection:a}=c(),s=e("section6")||{},l={stagingSystem:s.stagingSystem||"BOTH",enneking:s.enneking||{},ajcc:s.ajcc||{},stagingDate:s.stagingDate||"",stagingNotes:s.stagingNotes||""};(0,r.useEffect)(()=>{let{grade:e,site:s,metastasis:t}=l.enneking||{};if(e&&s&&t){let r,i;if("YES"===t)r="III",i=T.III;else if("LOW"===e&&"INTRACOMPARTMENTAL"===s)r="IA",i=T.IA;else if("LOW"===e&&"EXTRACOMPARTMENTAL"===s)r="IB",i=T.IB;else if("HIGH"===e&&"INTRACOMPARTMENTAL"===s)r="IIA",i=T.IIA;else{if("HIGH"!==e||"EXTRACOMPARTMENTAL"!==s)return;r="IIB",i=T.IIB}l.enneking?.stage!==r&&a("section6",{...l,enneking:{...l.enneking,grade:e,site:s,metastasis:t,stage:r,description:i}})}},[l.enneking?.grade,l.enneking?.site,l.enneking?.metastasis]);let i=(e,s)=>{a("section6",{...l,enneking:{...l.enneking,[e]:s}})},n=(e,s)=>{a("section6",{...l,ajcc:{...l.ajcc,[e]:s}})},o=(e,s)=>{a("section6",{...l,[e]:s})},d="ENNEKING"===l.stagingSystem||"BOTH"===l.stagingSystem,u="AJCC"===l.stagingSystem||"BOTH"===l.stagingSystem;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stadium Tumor (Tumor Staging)"}),t.jsx("p",{className:"text-gray-600",children:"Tentukan stadium tumor menggunakan sistem Enneking dan/atau AJCC"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Sistem Stadium ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{value:"ENNEKING",label:"Enneking",description:"Khusus tumor muskuloskeletal"},{value:"AJCC",label:"AJCC TNM",description:"Sistem TNM standar"},{value:"BOTH",label:"Keduanya",description:"Enneking + AJCC"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>o("stagingSystem",e.value),className:`
                p-4 rounded-lg border-2 text-left transition-all
                ${l.stagingSystem===e.value?"border-blue-600 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"}
              `,children:[t.jsx("div",{className:`font-semibold mb-1 ${l.stagingSystem===e.value?"text-blue-900":"text-gray-900"}`,children:e.label}),t.jsx("div",{className:`text-sm ${l.stagingSystem===e.value?"text-blue-700":"text-gray-600"}`,children:e.description})]},e.value))})]}),d&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-white rounded-lg border-2 border-purple-200 p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-purple-900 mb-4 flex items-center",children:[t.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Enneking Staging System"]}),t.jsx("p",{className:"text-sm text-purple-700 mb-6",children:"Sistem stadium khusus untuk tumor muskuloskeletal berdasarkan grade, kompartemen, dan metastasis"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Grade (Derajat Keganasan) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>i("grade","LOW"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.grade==="LOW"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"G1 - Low Grade"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Derajat rendah / jinak"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>i("grade","HIGH"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.grade==="HIGH"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"G2 - High Grade"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Derajat tinggi / ganas"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Lokasi (Kompartemen) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>i("site","INTRACOMPARTMENTAL"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.site==="INTRACOMPARTMENTAL"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"T1 - Intracompartmental"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Terbatas dalam satu kompartemen"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>i("site","EXTRACOMPARTMENTAL"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.site==="EXTRACOMPARTMENTAL"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"T2 - Extracompartmental"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Meluas ke luar kompartemen"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Metastasis ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>i("metastasis","NO"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.metastasis==="NO"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"M0 - Tidak ada"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Tidak ada metastasis"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>i("metastasis","YES"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${l.enneking?.metastasis==="YES"?"border-purple-600 bg-purple-100 text-purple-900":"border-gray-300 bg-white hover:border-purple-400"}
                  `,children:[t.jsx("div",{className:"font-semibold",children:"M1 - Ada"}),t.jsx("div",{className:"text-sm mt-1 opacity-80",children:"Regional atau distant metastasis"})]})]})]}),l.enneking?.stage&&t.jsx("div",{className:"mt-6 p-6 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg text-white",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Stadium Enneking"}),t.jsx("div",{className:"text-3xl font-bold",children:l.enneking.stage})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"text-sm opacity-90",children:l.enneking.description})})]})})]})]}),u&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-lg border-2 border-blue-200 p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-blue-900 mb-4 flex items-center",children:[t.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"AJCC TNM Staging System"]}),t.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"Sistem stadium TNM dari American Joint Committee on Cancer"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"AJCC Edition"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("button",{type:"button",onClick:()=>n("ajccEdition","8th"),className:`
                    p-3 rounded-lg border-2 transition-all
                    ${l.ajcc?.ajccEdition==="8th"?"border-blue-600 bg-blue-100 text-blue-900":"border-gray-300 bg-white hover:border-blue-400"}
                  `,children:"8th Edition (2017)"}),t.jsx("button",{type:"button",onClick:()=>n("ajccEdition","7th"),className:`
                    p-3 rounded-lg border-2 transition-all
                    ${l.ajcc?.ajccEdition==="7th"?"border-blue-600 bg-blue-100 text-blue-900":"border-gray-300 bg-white hover:border-blue-400"}
                  `,children:"7th Edition (2010)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["T - Primary Tumor (Tumor Primer) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.ajcc?.t||"",onChange:e=>n("t",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih klasifikasi T"}),t.jsx("option",{value:"TX",children:"TX - Tumor primer tidak dapat dinilai"}),t.jsx("option",{value:"T0",children:"T0 - Tidak ada bukti tumor primer"}),t.jsx("option",{value:"T1",children:"T1 - Tumor  5 cm"}),t.jsx("option",{value:"T2",children:"T2 - Tumor > 5 cm tapi  10 cm"}),t.jsx("option",{value:"T3",children:"T3 - Tumor > 10 cm tapi  15 cm"}),t.jsx("option",{value:"T4",children:"T4 - Tumor > 15 cm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["N - Regional Lymph Nodes (Kelenjar Getah Bening Regional) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.ajcc?.n||"",onChange:e=>n("n",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih klasifikasi N"}),t.jsx("option",{value:"NX",children:"NX - Kelenjar getah bening regional tidak dapat dinilai"}),t.jsx("option",{value:"N0",children:"N0 - Tidak ada metastasis kelenjar getah bening regional"}),t.jsx("option",{value:"N1",children:"N1 - Metastasis kelenjar getah bening regional"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["M - Distant Metastasis (Metastasis Jauh) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.ajcc?.m||"",onChange:e=>n("m",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih klasifikasi M"}),t.jsx("option",{value:"M0",children:"M0 - Tidak ada metastasis jauh"}),t.jsx("option",{value:"M1",children:"M1 - Metastasis jauh"}),t.jsx("option",{value:"M1a",children:"M1a - Metastasis paru"}),t.jsx("option",{value:"M1b",children:"M1b - Metastasis lokasi lain"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["G - Histologic Grade (Grade Histologi) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.ajcc?.grade||"",onChange:e=>n("grade",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih grade histologi"}),t.jsx("option",{value:"GX",children:"GX - Grade tidak dapat ditentukan"}),t.jsx("option",{value:"G1",children:"G1 - Well differentiated (diferensiasi baik)"}),t.jsx("option",{value:"G2",children:"G2 - Moderately differentiated (diferensiasi sedang)"}),t.jsx("option",{value:"G3",children:"G3 - Poorly differentiated (diferensiasi buruk)"}),t.jsx("option",{value:"G4",children:"G4 - Undifferentiated (tidak terdiferensiasi)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Overall Stage (Stadium Keseluruhan) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:l.ajcc?.stage||"",onChange:e=>n("stage",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Pilih stadium keseluruhan"}),t.jsx("option",{value:"I",children:"Stage I"}),t.jsx("option",{value:"IA",children:"Stage IA"}),t.jsx("option",{value:"IB",children:"Stage IB"}),t.jsx("option",{value:"II",children:"Stage II"}),t.jsx("option",{value:"IIA",children:"Stage IIA"}),t.jsx("option",{value:"IIB",children:"Stage IIB"}),t.jsx("option",{value:"III",children:"Stage III"}),t.jsx("option",{value:"IIIA",children:"Stage IIIA"}),t.jsx("option",{value:"IIIB",children:"Stage IIIB"}),t.jsx("option",{value:"IV",children:"Stage IV"}),t.jsx("option",{value:"IVA",children:"Stage IVA"}),t.jsx("option",{value:"IVB",children:"Stage IVB"})]})]}),l.ajcc?.t&&l.ajcc?.n&&l.ajcc?.m&&(0,t.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm opacity-90 mb-1",children:"TNM Classification"}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[l.ajcc.t,l.ajcc.n,l.ajcc.m]})]}),l.ajcc.stage&&(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Overall Stage"}),t.jsx("div",{className:"text-2xl font-bold",children:l.ajcc.stage})]})]}),l.ajcc.grade&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-blue-500",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Grade: "}),t.jsx("span",{className:"font-semibold",children:l.ajcc.grade})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informasi Tambahan"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Staging"}),t.jsx("input",{type:"date",value:l.stagingDate||"",onChange:e=>o("stagingDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan Staging"}),t.jsx("textarea",{value:l.stagingNotes||"",onChange:e=>o("stagingNotes",e.target.value),rows:4,placeholder:"Catatan tambahan mengenai staging, misalnya alasan pemilihan sistem tertentu, temuan klinis yang mempengaruhi staging, dll.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(d&&l.enneking?.stage||u&&l.ajcc?.stage)&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"text-sm text-green-800",children:[t.jsx("span",{className:"font-medium",children:"Staging lengkap."})," Anda dapat melanjutkan ke bagian selanjutnya."]})]})})]})}function D(){let{getSection:e,updateSection:a}=c(),s=e("section7")||{},r={cpcDate:s.cpcDate||"",consultantsPresent:s.consultantsPresent||"",decision:s.decision||""},l=(e,s)=>{a("section7",{...r,[e]:s})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"CPC (Clinico-Pathological Conference)"}),t.jsx("p",{className:"text-gray-600",children:"Dokumentasi konferensi klinis-patologis untuk kasus ini"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal"}),t.jsx("input",{type:"date",value:r.cpcDate||"",onChange:e=>l("cpcDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Tanggal pelaksanaan CPC"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konsultan Hadir"}),t.jsx("textarea",{value:r.consultantsPresent||"",onChange:e=>l("consultantsPresent",e.target.value),rows:4,placeholder:"Contoh: 1. Dr. Ahmad Sutanto, Sp.OT(K)Onk - Konsultan Ortopedi Onkologi 2. Dr. Siti Rahayu, Sp.PA - Konsultan Patologi Anatomi 3. Dr. Budi Santoso, Sp.Rad(K)Onk - Konsultan Radiologi Onkologi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Daftar nama konsultan yang hadir dalam CPC"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keputusan"}),t.jsx("textarea",{value:r.decision||"",onChange:e=>l("decision",e.target.value),rows:6,placeholder:"Contoh: Keputusan CPC: 1. Diagnosis: Osteosarcoma femur distal kanan stadium IIB 2. Rencana terapi: - Kemoterapi neo-adjuvant (protokol MAP) 3 siklus - Wide excision dengan limb salvage reconstruction - Kemoterapi adjuvant 3 siklus 3. Follow-up: Evaluasi setiap 3 bulan tahun pertama",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Keputusan dan rekomendasi dari CPC"})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-blue-600 mr-3 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Catatan:"}),t.jsx("p",{children:"CPC adalah forum multidisiplin untuk mendiskusikan diagnosis dan rencana terapi kasus tumor muskuloskeletal. Keputusan CPC menjadi acuan utama dalam penatalaksanaan pasien."})]})]})})]})}let P=["Infeksi superfisial","Infeksi dalam","Wound dehiscence","Hematoma","Nerve injury","Vascular injury","Prosthesis failure","Nonunion / malunion","Kontraktur sendi","Heterotopic ossification"];function L(){let{getSection:e,updateSection:a}=c(),s=e("section8")||{},[l,i]=(0,r.useState)("SURGERY"===s.primaryTreatment||"MULTIMODAL"===s.primaryTreatment),[n,o]=(0,r.useState)(s.chemotherapy?.received||!1),[d,u]=(0,r.useState)(s.radiation?.received||!1),m=(e,t)=>{a("section8",{...s,[e]:t})},g=(e,a)=>{m("surgery",{...s.surgery,[e]:a})},x=(e,a)=>{m("chemotherapy",{...s.chemotherapy,[e]:a})},h=(e,a)=>{m("radiation",{...s.radiation,[e]:a})},p=e=>{let a=s.surgery?.complications||[];g("complications",a.includes(e)?a.filter(a=>a!==e):[...a,e])};return(0,r.useEffect)(()=>{i("SURGERY"===s.primaryTreatment||"MULTIMODAL"===s.primaryTreatment)},[s.primaryTreatment]),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Manajemen Pengobatan (Treatment Management)"}),t.jsx("p",{className:"text-gray-600",children:"Dokumentasi lengkap pengobatan termasuk bedah (LIMB SALVAGE), kemoterapi, radiasi, dan modalitas lainnya"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-white rounded-lg border-2 border-purple-200 p-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Tujuan Pengobatan (Treatment Intention) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>m("treatmentIntention","CURATIVE"),className:`
              p-4 rounded-lg border-2 text-center transition-all
              ${"CURATIVE"===s.treatmentIntention?"border-green-600 bg-green-50 text-green-900":"border-gray-200 bg-white hover:border-green-400"}
            `,children:[t.jsx("div",{className:"text-3xl mb-2",children:"\uD83C\uDFAF"}),t.jsx("div",{className:"font-bold",children:"CURATIVE"}),t.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Tujuan menyembuhkan"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>m("treatmentIntention","PALLIATIVE"),className:`
              p-4 rounded-lg border-2 text-center transition-all
              ${"PALLIATIVE"===s.treatmentIntention?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-200 bg-white hover:border-blue-400"}
            `,children:[t.jsx("div",{className:"text-3xl mb-2",children:"\uD83D\uDC8A"}),t.jsx("div",{className:"font-bold",children:"PALLIATIVE"}),t.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Mengurangi gejala"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Analgesia (Tanggal Mulai)"}),t.jsx("input",{type:"date",value:s.analgesiaStartDate||"",onChange:e=>m("analgesiaStartDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Modalitas Pengobatan Primer ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{value:"SURGERY",label:"Bedah",icon:"\uD83C\uDFE5"},{value:"CHEMOTHERAPY",label:"Kemoterapi",icon:"\uD83D\uDC8A"},{value:"RADIATION",label:"Radiasi",icon:""},{value:"MULTIMODAL",label:"Multimodal",icon:"\uD83D\uDD2C"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>m("primaryTreatment",e.value),className:`
                p-4 rounded-lg border-2 text-center transition-all
                ${s.primaryTreatment===e.value?"border-blue-600 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"}
              `,children:[t.jsx("div",{className:"text-3xl mb-2",children:e.icon}),t.jsx("div",{className:`font-semibold ${s.primaryTreatment===e.value?"text-blue-900":"text-gray-900"}`,children:e.label})]},e.value))})]}),l&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-white rounded-lg border-2 border-red-200 p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-red-900 mb-4 flex items-center",children:[t.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"})}),"Pengobatan Bedah (Surgical Treatment)"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-lg p-6 border-2 border-yellow-400",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[t.jsx("svg",{className:"w-8 h-8 text-yellow-700 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-yellow-900",children:"LIMB SALVAGE STATUS"}),t.jsx("p",{className:"text-sm text-yellow-800",children:"Indikator utama keberhasilan bedah tumor muskuloskeletal"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>g("limbSalvageStatus","LIMB_SALVAGE"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${s.surgery?.limbSalvageStatus==="LIMB_SALVAGE"?"border-green-600 bg-green-100 text-green-900":"border-yellow-400 bg-white hover:border-green-500"}
                  `,children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-bold",children:"LIMB SALVAGE"}),t.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Ekstremitas dipertahankan"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>g("limbSalvageStatus","AMPUTATION"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${s.surgery?.limbSalvageStatus==="AMPUTATION"?"border-red-600 bg-red-100 text-red-900":"border-yellow-400 bg-white hover:border-red-500"}
                  `,children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-bold",children:"AMPUTATION"}),t.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Amputasi dilakukan"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>g("limbSalvageStatus","NOT_APPLICABLE"),className:`
                    p-4 rounded-lg border-2 transition-all
                    ${s.surgery?.limbSalvageStatus==="NOT_APPLICABLE"?"border-gray-600 bg-gray-100 text-gray-900":"border-yellow-400 bg-white hover:border-gray-500"}
                  `,children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-bold",children:"NOT APPLICABLE"}),t.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Bukan tumor ekstremitas"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Operasi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:s.surgery?.surgeryDate||"",onChange:e=>g("surgeryDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Jenis Operasi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:s.surgery?.surgeryType||"",onChange:e=>g("surgeryType",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[t.jsx("option",{value:"",children:"Pilih jenis operasi"}),t.jsx("option",{value:"WIDE_EXCISION",children:"Wide Excision"}),t.jsx("option",{value:"MARGINAL_EXCISION",children:"Marginal Excision"}),t.jsx("option",{value:"INTRALESIONAL",children:"Intralesional"}),t.jsx("option",{value:"AMPUTATION",children:"Amputation"}),t.jsx("option",{value:"ROTATIONPLASTY",children:"Rotationplasty"}),t.jsx("option",{value:"OTHER",children:"Lainnya"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durasi Operasi (menit)"}),t.jsx("input",{type:"number",value:s.surgery?.surgeryDuration||"",onChange:e=>g("surgeryDuration",parseInt(e.target.value)),placeholder:"Contoh: 180",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perdarahan (ml)"}),t.jsx("input",{type:"number",value:s.surgery?.bloodLoss||"",onChange:e=>g("bloodLoss",parseInt(e.target.value)),placeholder:"Contoh: 500",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kontaminasi Intraoperatif"}),t.jsx("div",{className:"flex items-center h-12",children:(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:s.surgery?.intraoperativeContamination||!1,onChange:e=>g("intraoperativeContamination",e.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500 h-5 w-5"}),t.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Ya, terjadi kontaminasi"})]})})]})]}),s.surgery?.limbSalvageStatus==="LIMB_SALVAGE"&&(0,t.jsxs)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[(0,t.jsxs)("h4",{className:"font-bold text-green-900 mb-4 flex items-center",children:[t.jsx("span",{className:"text-2xl mr-2",children:"\uD83E\uDDB4"}),"Detail Limb Salvage"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Teknik Rekonstruksi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:s.surgery?.limbSalvageTechnique||"",onChange:e=>g("limbSalvageTechnique",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[t.jsx("option",{value:"",children:"Pilih teknik rekonstruksi"}),t.jsx("option",{value:"ENDOPROSTHESIS",children:"Endoprosthesis (Modular prosthesis)"}),t.jsx("option",{value:"ALLOGRAFT",children:"Allograft"}),t.jsx("option",{value:"ALLOGRAFT_PROSTHESIS_COMPOSITE",children:"Allograft-Prosthesis Composite (APC)"}),t.jsx("option",{value:"VASCULARIZED_FIBULA",children:"Vascularized Fibula Graft"}),t.jsx("option",{value:"DISTRACTION_OSTEOGENESIS",children:"Distraction Osteogenesis"}),t.jsx("option",{value:"OTHER",children:"Lainnya"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detail Rekonstruksi"}),t.jsx("textarea",{value:s.surgery?.reconstructionDetails||"",onChange:e=>g("reconstructionDetails",e.target.value),rows:3,placeholder:"Jelaskan detail teknik rekonstruksi, ukuran prosthesis, jenis graft, dll.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]}),s.surgery?.limbSalvageStatus==="AMPUTATION"&&(0,t.jsxs)("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[t.jsx("h4",{className:"font-bold text-red-900 mb-4",children:"Detail Amputasi"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Level Amputasi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:s.surgery?.amputationLevel||"",onChange:e=>g("amputationLevel",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[t.jsx("option",{value:"",children:"Pilih level amputasi"}),(0,t.jsxs)("optgroup",{label:"Upper Extremity",children:[t.jsx("option",{value:"FOREQUARTER",children:"Forequarter (Interscapulothoracic)"}),t.jsx("option",{value:"ABOVE_ELBOW",children:"Above Elbow (Transhumeral)"}),t.jsx("option",{value:"BELOW_ELBOW",children:"Below Elbow (Transradial)"})]}),(0,t.jsxs)("optgroup",{label:"Lower Extremity",children:[t.jsx("option",{value:"HINDQUARTER",children:"Hindquarter (Hemipelvectomy)"}),t.jsx("option",{value:"ABOVE_KNEE",children:"Above Knee (Transfemoral)"}),t.jsx("option",{value:"BELOW_KNEE",children:"Below Knee (Transtibial)"}),t.jsx("option",{value:"SYMES",children:"Symes Amputation"})]}),t.jsx("option",{value:"DISARTICULATION",children:"Disarticulation"}),t.jsx("option",{value:"OTHER",children:"Lainnya"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Alasan Amputasi ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:s.surgery?.amputationReason||"",onChange:e=>g("amputationReason",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[t.jsx("option",{value:"",children:"Pilih alasan amputasi"}),t.jsx("option",{value:"TUMOR_EXTENT",children:"Tumor Extent (Tumor terlalu luas)"}),t.jsx("option",{value:"FAILED_SALVAGE",children:"Failed Limb Salvage"}),t.jsx("option",{value:"RECURRENCE",children:"Local Recurrence"}),t.jsx("option",{value:"INFECTION",children:"Infection"}),t.jsx("option",{value:"PATIENT_CHOICE",children:"Patient Choice"}),t.jsx("option",{value:"OTHER",children:"Lainnya"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Status Margin Bedah ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"R0_NEGATIVE",label:"R0 - Negative",color:"green"},{value:"R1_MICROSCOPIC_POSITIVE",label:"R1 - Microscopic+",color:"yellow"},{value:"R2_MACROSCOPIC_POSITIVE",label:"R2 - Macroscopic+",color:"red"}].map(e=>t.jsx("button",{type:"button",onClick:()=>g("surgicalMargin",e.value),className:`
                      p-3 rounded-lg border-2 transition-all
                      ${s.surgery?.surgicalMargin===e.value?`border-${e.color}-600 bg-${e.color}-100 text-${e.color}-900`:"border-gray-300 bg-white hover:border-gray-400"}
                    `,children:t.jsx("div",{className:"font-semibold text-sm",children:e.label})},e.value))}),s.surgery?.surgicalMargin==="R0_NEGATIVE"&&(0,t.jsxs)("div",{className:"mt-3",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jarak Margin (mm)"}),t.jsx("input",{type:"number",value:s.surgery?.marginDistance||"",onChange:e=>g("marginDistance",parseFloat(e.target.value)),placeholder:"Jarak margin dalam milimeter",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Komplikasi Pascaoperasi"}),t.jsx("div",{className:"mb-3",children:(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:s.surgery?.infectionOccurred||!1,onChange:e=>g("infectionOccurred",e.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500 h-5 w-5"}),t.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Terjadi Infeksi"})]})}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:P.map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:s.surgery?.complications?.includes(e)||!1,onChange:()=>p(e),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Ahli Bedah"}),t.jsx("input",{type:"text",value:s.surgery?.surgeon||"",onChange:e=>g("surgeon",e.target.value),placeholder:"Nama lengkap ahli bedah",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rumah Sakit"}),t.jsx("input",{type:"text",value:s.surgery?.hospital||"",onChange:e=>g("hospital",e.target.value),placeholder:"Nama rumah sakit",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"flex items-center mb-4",children:[t.jsx("input",{type:"checkbox",checked:s.chemotherapy?.received||!1,onChange:e=>{x("received",e.target.checked),o(e.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-5 w-5"}),t.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Kemoterapi"})]}),n&&(0,t.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timing"}),(0,t.jsxs)("select",{value:s.chemotherapy?.timing||"",onChange:e=>x("timing",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Pilih timing"}),t.jsx("option",{value:"NEOADJUVANT",children:"Neoadjuvant (sebelum bedah)"}),t.jsx("option",{value:"ADJUVANT",children:"Adjuvant (setelah bedah)"}),t.jsx("option",{value:"BOTH",children:"Both (Neoadjuvant + Adjuvant)"}),t.jsx("option",{value:"PALLIATIVE",children:"Palliative"})]})]}),(s.chemotherapy?.timing==="NEOADJUVANT"||s.chemotherapy?.timing==="BOTH")&&(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Neoadjuvant Chemotherapy"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Protokol"}),t.jsx("input",{type:"text",value:s.chemotherapy?.neoadjuvantProtocol||"",onChange:e=>x("neoadjuvantProtocol",e.target.value),placeholder:"e.g., MAP, VAC, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Siklus"}),t.jsx("input",{type:"number",value:s.chemotherapy?.neoadjuvantCycles||"",onChange:e=>x("neoadjuvantCycles",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),t.jsx("input",{type:"date",value:s.chemotherapy?.neoadjuvantStartDate||"",onChange:e=>x("neoadjuvantStartDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),t.jsx("input",{type:"date",value:s.chemotherapy?.neoadjuvantEndDate||"",onChange:e=>x("neoadjuvantEndDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),(s.chemotherapy?.timing==="ADJUVANT"||s.chemotherapy?.timing==="BOTH")&&(0,t.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[t.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Adjuvant Chemotherapy"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Protokol"}),t.jsx("input",{type:"text",value:s.chemotherapy?.adjuvantProtocol||"",onChange:e=>x("adjuvantProtocol",e.target.value),placeholder:"e.g., MAP, VAC, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Siklus"}),t.jsx("input",{type:"number",value:s.chemotherapy?.adjuvantCycles||"",onChange:e=>x("adjuvantCycles",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),t.jsx("input",{type:"date",value:s.chemotherapy?.adjuvantStartDate||"",onChange:e=>x("adjuvantStartDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),t.jsx("input",{type:"date",value:s.chemotherapy?.adjuvantEndDate||"",onChange:e=>x("adjuvantEndDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("label",{className:"flex items-center mb-4",children:[t.jsx("input",{type:"checkbox",checked:s.radiation?.received||!1,onChange:e=>{h("received",e.target.checked),u(e.target.checked)},className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 h-5 w-5"}),t.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Radioterapi"})]}),d&&(0,t.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timing"}),(0,t.jsxs)("select",{value:s.radiation?.timing||"",onChange:e=>h("timing",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"",children:"Pilih timing"}),t.jsx("option",{value:"NEOADJUVANT",children:"Neoadjuvant (sebelum bedah)"}),t.jsx("option",{value:"ADJUVANT",children:"Adjuvant (setelah bedah)"}),t.jsx("option",{value:"DEFINITIVE",children:"Definitive"}),t.jsx("option",{value:"PALLIATIVE",children:"Palliative"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Dosis (Gy)"}),t.jsx("input",{type:"number",value:s.radiation?.totalDose||"",onChange:e=>h("totalDose",parseFloat(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fraksi"}),t.jsx("input",{type:"number",value:s.radiation?.fractions||"",onChange:e=>h("fractions",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),t.jsx("input",{type:"date",value:s.radiation?.startDate||"",onChange:e=>h("startDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),t.jsx("input",{type:"date",value:s.radiation?.endDate||"",onChange:e=>h("endDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]})]})]}),(l||n||d)&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-white rounded-lg border border-indigo-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-indigo-900 mb-4",children:"Respons Pengobatan Keseluruhan"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{value:"COMPLETE_REMISSION",label:"Complete Remission",color:"green"},{value:"PARTIAL_REMISSION",label:"Partial Remission",color:"blue"},{value:"STABLE_DISEASE",label:"Stable Disease",color:"yellow"},{value:"PROGRESSIVE_DISEASE",label:"Progressive Disease",color:"red"}].map(e=>t.jsx("button",{type:"button",onClick:()=>m("overallResponse",e.value),className:`
                  p-3 rounded-lg border-2 transition-all text-center
                  ${s.overallResponse===e.value?`border-${e.color}-600 bg-${e.color}-100`:"border-gray-300 bg-white hover:border-indigo-400"}
                `,children:t.jsx("div",{className:"font-semibold text-sm",children:e.label})},e.value))})]}),s.surgery?.limbSalvageStatus&&t.jsx("div",{className:`border-2 rounded-lg p-6 ${"LIMB_SALVAGE"===s.surgery.limbSalvageStatus?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("svg",{className:`h-6 w-6 mr-3 flex-shrink-0 ${"LIMB_SALVAGE"===s.surgery.limbSalvageStatus?"text-green-600":"text-gray-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:`text-sm ${"LIMB_SALVAGE"===s.surgery.limbSalvageStatus?"text-green-800":"text-gray-800"}`,children:[t.jsx("span",{className:"font-medium",children:"LIMB_SALVAGE"===s.surgery.limbSalvageStatus?" LIMB SALVAGE berhasil dipertahankan":"Informasi pengobatan telah dicatat"})," - Anda dapat melanjutkan ke bagian selanjutnya."]})]})})]})}let E=({data:e,isActive:a})=>{let[s,l]=(0,r.useState)(new Set(["section1","section2"])),i=e=>{l(a=>{let s=new Set(a);return s.has(e)?s.delete(e):s.add(e),s})},n=(e,a)=>a.split(".").reduce((e,a)=>e?.[a],e),o=e=>null==e||""===e?"":"boolean"==typeof e?e?"Yes":"No":e instanceof Date?e.toLocaleDateString():"object"==typeof e?JSON.stringify(e):String(e),d=[{id:"section1",title:"Center & Pathology Type",icon:"\uD83C\uDFE5",fields:[{label:"Center",key:"centerId"},{label:"Pathology Type",key:"pathologyType"},{label:"Subspecialist",key:"subspecialistName"},{label:"Entry Date",key:"entryDate"}]},{id:"section2",title:"Patient Identity",icon:"\uD83D\uDC64",fields:[{label:"Medical Record Number",key:"hospitalRecordNumber"},{label:"NIK",key:"nik"},{label:"Name",key:"name"},{label:"Date of Birth",key:"dateOfBirth"},{label:"Place of Birth",key:"placeOfBirth"},{label:"Gender",key:"gender"},{label:"Blood Type",key:"bloodType"},{label:"Religion",key:"religion"},{label:"Marital Status",key:"maritalStatus"},{label:"Occupation",key:"occupation"},{label:"Education",key:"education"},{label:"Phone Number",key:"phoneNumber"},{label:"Email",key:"email"},{label:"Address",key:"address"},{label:"Province",key:"province"},{label:"Regency",key:"regency"},{label:"District",key:"district"},{label:"Village",key:"village"},{label:"Postal Code",key:"postalCode"}]},{id:"section3",title:"Clinical Data",icon:"\uD83E\uDE7A",fields:[{label:"Chief Complaint",key:"chiefComplaint"},{label:"Onset Date",key:"onsetDate"},{label:"Symptom Duration (months)",key:"symptomDuration"},{label:"Presenting Symptoms",key:"presentingSymptoms"},{label:"Tumor Size at Presentation (cm)",key:"tumorSizeAtPresentation"},{label:"Family History of Cancer",key:"familyHistoryCancer"},{label:"Tumor Syndrome",key:"tumorSyndromeId"},{label:"Karnofsky Performance Score",key:"karnofskysScore"}]},{id:"section4",title:"Diagnostic Investigations",icon:"\uD83D\uDD2C",fields:[{label:"Biopsy Date",key:"biopsyDate"},{label:"Biopsy Type",key:"biopsyType"},{label:"Biopsy Result",key:"biopsyResult"},{label:"Imaging Studies",key:"imagingStudies"}]},{id:"section5",title:"Diagnosis & Location",icon:"\uD83D\uDCCB",fields:[{label:"WHO Bone Tumor Classification",key:"whoBoneTumorId"},{label:"WHO Soft Tissue Tumor Classification",key:"whoSoftTissueTumorId"},{label:"Bone Location",key:"boneLocationId"},{label:"Soft Tissue Location",key:"softTissueLocationId"},{label:"Histopathology Grade",key:"histopathologyGrade"},{label:"Histopathology Details",key:"histopathologyDetails"}]},{id:"section6",title:"Staging",icon:"\uD83D\uDCCA",fields:[{label:"Enneking Stage",key:"ennekingStage"},{label:"AJCC Stage",key:"ajccStage"},{label:"Metastasis Present",key:"metastasisPresent"},{label:"Metastasis Sites",key:"metastasisSites"}]},{id:"section7",title:"CPC Conference",icon:"\uD83D\uDCAC",fields:[{label:"CPC Date",key:"cpcDate"},{label:"CPC Attendees",key:"cpcAttendees"},{label:"Case Summary",key:"cpcCaseSummary"},{label:"Recommended Treatment",key:"cpcRecommendedTreatment"},{label:"Treatment Plan",key:"cpcTreatmentPlan"},{label:"CPC Decision",key:"cpcDecision"},{label:"Notes",key:"cpcNotes"},{label:"Next Review Date",key:"cpcNextReviewDate"}]},{id:"section8",title:"Treatment Management",icon:"\uD83D\uDC8A",fields:[{label:"Treatment Start Date",key:"treatmentStartDate"},{label:"Treatment End Date",key:"treatmentEndDate"},{label:"Surgery Date",key:"surgeryDate"},{label:"Surgery Type",key:"surgeryType"},{label:"Surgery Details",key:"surgeryDetails"},{label:"Chemotherapy Protocol",key:"chemotherapyProtocol"},{label:"Chemotherapy Cycles",key:"chemotherapyCycles"},{label:"Radiotherapy Dose",key:"radiotherapyDose"},{label:"Radiotherapy Fractions",key:"radiotherapyFractions"},{label:"Treatment Response",key:"treatmentResponse"},{label:"Complications",key:"complications"},{label:"Adverse Events",key:"adverseEvents"}]},{id:"section9",title:"Follow-up Plan",icon:"\uD83D\uDCC5",fields:[{label:"Follow-up Schedule",key:"followUpSchedule"},{label:"Next Follow-up Date",key:"nextFollowUpDate"},{label:"Monitoring Plan",key:"monitoringPlan"},{label:"Imaging Follow-up",key:"imagingFollowUp"},{label:"Lab Follow-up",key:"labFollowUp"},{label:"Quality of Life",key:"qualityOfLife"},{label:"Functional Status",key:"functionalStatus"},{label:"Survival Status",key:"survivalStatus"},{label:"Date of Last Contact",key:"dateOfLastContact"}]}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Patient Registration"}),t.jsx("p",{className:"text-gray-700",children:"Please carefully review all information before submitting. You can navigate back to any section to make changes if needed."}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-3",children:[t.jsx("button",{onClick:()=>{l(new Set(["section1","section2","section3","section4","section5","section6","section7","section8","section9"]))},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Expand All"}),t.jsx("span",{className:"text-gray-400",children:"|"}),t.jsx("button",{onClick:()=>{l(new Set)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Collapse All"})]})]}),t.jsx("div",{className:"space-y-4",children:d.map(a=>{let r=s.has(a.id),l=e[a.id]||{},d=a.fields.some(e=>{let a=n(l,e.key);return null!=a&&""!==a});return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>i(a.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-2xl",children:a.icon}),(0,t.jsxs)("div",{className:"text-left",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.title}),!d&&t.jsx("p",{className:"text-sm text-gray-500",children:"No data entered"})]})]}),t.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&t.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.fields.map(e=>{let a=o(n(l,e.key)),s=""===a;return(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-600 mb-1",children:e.label}),t.jsx("dd",{className:`text-sm ${s?"text-gray-400 italic":"text-gray-900"}`,children:a})]},e.key)})})})]},a.id)})}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t.jsx("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:[t.jsx("strong",{children:"Important:"}),' Please verify all information is accurate before submitting. You can use the sidebar navigation or "Previous" button to go back and edit any section.']})})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Data Completeness"}),t.jsx("div",{className:"space-y-2",children:d.map(a=>{let s=e[a.id]||{},r=a.fields.length,l=Math.round(a.fields.filter(e=>{let a=n(s,e.key);return null!=a&&""!==a}).length/r*100);return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:a.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${100===l?"bg-green-500":l>=50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${l}%`}})}),(0,t.jsxs)("span",{className:"text-gray-600 font-medium w-12 text-right",children:[l,"%"]})]})]},a.id)})})]})]})},M=(e,a)=>null==e||""===e?{field:a,message:`${a} is required`}:null,R=(e,a="Email")=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:{field:a,message:"Invalid email format"}:null,O=(e,a="NIK")=>e?/^\d{16}$/.test(e)?null:{field:a,message:"NIK must be exactly 16 digits"}:null,B=(e,a="Phone Number")=>e?/^(\+62|62|0)[8][0-9]{8,11}$/.test(e.replace(/[\s-]/g,""))?null:{field:a,message:"Invalid Indonesian phone number format (e.g., 08123456789)"}:null,H=(e,a="Date",s)=>{if(!e)return null;let t=new Date(e);return isNaN(t.getTime())?{field:a,message:"Invalid date format"}:s?.futureAllowed===!1&&t>new Date?{field:a,message:"Date cannot be in the future"}:s?.minDate&&t<s.minDate?{field:a,message:`Date must be after ${s.minDate.toLocaleDateString()}`}:s?.maxDate&&t>s.maxDate?{field:a,message:`Date must be before ${s.maxDate.toLocaleDateString()}`}:null},G=(e,a="Date of Birth")=>{if(!e)return null;let s=new Date(e),t=new Date().getFullYear()-s.getFullYear();return H(e,a,{futureAllowed:!1})||(t<0||t>150?{field:a,message:"Please enter a valid date of birth"}:null)},F=(e,a,s)=>{if(null==e||""===e)return null;let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?{field:a,message:"Must be a valid number"}:s?.integer&&!Number.isInteger(t)?{field:a,message:"Must be a whole number"}:s?.min!==void 0&&t<s.min?{field:a,message:`Must be at least ${s.min}`}:s?.max!==void 0&&t>s.max?{field:a,message:`Must be no more than ${s.max}`}:null},K=(e,a="Karnofsky Score")=>{if(!e)return null;let s="string"==typeof e?parseInt(e):e;return isNaN(s)||s<0||s>100?{field:a,message:"Karnofsky score must be between 0 and 100"}:s%10!=0?{field:a,message:"Karnofsky score must be in increments of 10"}:null},z=(e,a="Medical Record Number")=>e&&e.length<6?{field:a,message:"Medical record number must be at least 6 characters"}:null,V=e=>{let a=[],s=M(e.centerId,"Center");s&&a.push(s);let t=M(e.pathologyType,"Pathology Type");return t&&a.push(t),{isValid:0===a.length,errors:a}},_=e=>{let a=[],s=M(e.hospitalRecordNumber,"Medical Record Number");if(s)a.push(s);else{let s=z(e.hospitalRecordNumber);s&&a.push(s)}let t=M(e.nik,"NIK");if(t)a.push(t);else{let s=O(e.nik);s&&a.push(s)}let r=M(e.name,"Name");r&&a.push(r);let l=M(e.dateOfBirth,"Date of Birth");if(l)a.push(l);else{let s=G(e.dateOfBirth);s&&a.push(s)}let i=M(e.gender,"Gender");if(i&&a.push(i),e.email){let s=R(e.email);s&&a.push(s)}if(e.phoneNumber){let s=B(e.phoneNumber);s&&a.push(s)}return{isValid:0===a.length,errors:a}},$=e=>{let a=[];if(e.karnofskysScore){let s=K(e.karnofskysScore);s&&a.push(s)}if(e.onsetDate){let s=H(e.onsetDate,"Onset Date",{futureAllowed:!1});s&&a.push(s)}if(e.tumorSizeAtPresentation){let s=F(e.tumorSizeAtPresentation,"Tumor Size",{min:0});s&&a.push(s)}return{isValid:0===a.length,errors:a}},q=e=>{let a=[];if(e.biopsyDate){let s=H(e.biopsyDate,"Biopsy Date",{futureAllowed:!1});s&&a.push(s)}return{isValid:0===a.length,errors:a}},U=(e,a)=>{let s=[],t=a.pathologyType;if("bone_tumor"===t||"BONE_TUMOR"===t){let a=M(e.whoBoneTumorId,"WHO Bone Tumor Classification");a&&s.push(a);let t=M(e.boneLocationId,"Bone Location");t&&s.push(t)}if("soft_tissue_tumor"===t||"SOFT_TISSUE_TUMOR"===t){let a=M(e.whoSoftTissueTumorId,"WHO Soft Tissue Tumor Classification");a&&s.push(a);let t=M(e.softTissueLocationId,"Soft Tissue Location");t&&s.push(t)}return{isValid:0===s.length,errors:s}},W=e=>{let a=[];return e.ennekingStage||e.ajccStage||a.push({field:"staging",message:"Staging: Minimal satu staging system (Enneking atau AJCC) harus diisi"}),e.histopathologyGrade||a.push({field:"histopathologyGrade",message:"Histopathology Grade harus diisi"}),{isValid:0===a.length,errors:a}},J=e=>{let a=[];if(e.cpcDate){let s=H(e.cpcDate,"Tanggal CPC",{futureAllowed:!1});s&&a.push(s)}return e.cpcDate&&(e.consultantsPresent||a.push({field:"consultantsPresent",message:"Jika tanggal CPC diisi, daftar konsultan hadir harus diisi"}),e.decision||a.push({field:"decision",message:"Jika tanggal CPC diisi, keputusan CPC harus diisi"})),{isValid:0===a.length,errors:a}},Y=e=>{let a=[];if(e.treatmentIntention||a.push({field:"treatmentIntention",message:"Treatment Intention (Curative/Palliative) harus diisi"}),e.primaryTreatment||a.push({field:"primaryTreatment",message:"Modalitas pengobatan primer harus dipilih"}),"SURGERY"===e.primaryTreatment||"MULTIMODAL"===e.primaryTreatment){if(e.surgery?.limbSalvageStatus||a.push({field:"limbSalvageStatus",message:"Limb Salvage Status HARUS diisi untuk pembedahan"}),e.surgery?.surgeryDate){let s=H(e.surgery.surgeryDate,"Surgery Date",{futureAllowed:!1});s&&a.push(s)}else a.push({field:"surgeryDate",message:"Tanggal operasi harus diisi"});if(e.surgery?.surgeryType||a.push({field:"surgeryType",message:"Jenis operasi harus diisi"}),e.surgery?.surgeryDuration){let s=F(e.surgery.surgeryDuration,"Surgery Duration",{min:1,max:1440});s&&a.push(s)}if(e.surgery?.bloodLoss){let s=F(e.surgery.bloodLoss,"Blood Loss",{min:0,max:5e4});s&&a.push(s)}if(e.surgery?.limbSalvageStatus!=="LIMB_SALVAGE"||e.surgery?.limbSalvageTechnique||a.push({field:"limbSalvageTechnique",message:"Teknik rekonstruksi harus diisi untuk Limb Salvage"}),e.surgery?.limbSalvageStatus!=="AMPUTATION"||(e.surgery?.amputationLevel||a.push({field:"amputationLevel",message:"Level amputasi harus diisi"}),e.surgery?.amputationReason||a.push({field:"amputationReason",message:"Alasan amputasi harus diisi"})),e.surgery?.surgicalMargin||a.push({field:"surgicalMargin",message:"Status margin bedah harus diisi"}),e.surgery?.marginDistance){let s=F(e.surgery.marginDistance,"Margin Distance",{min:0,max:1e3});s&&a.push(s)}}if(e.chemotherapy?.received){if(e.chemotherapy?.timing||a.push({field:"chemotherapyTiming",message:"Timing kemoterapi harus diisi"}),e.chemotherapy?.neoadjuvantStartDate){let s=H(e.chemotherapy.neoadjuvantStartDate,"Neoadjuvant Start Date",{futureAllowed:!0});s&&a.push(s)}if(e.chemotherapy?.neoadjuvantEndDate){let s=H(e.chemotherapy.neoadjuvantEndDate,"Neoadjuvant End Date",{futureAllowed:!0});s&&a.push(s)}if(e.chemotherapy?.adjuvantStartDate){let s=H(e.chemotherapy.adjuvantStartDate,"Adjuvant Start Date",{futureAllowed:!0});s&&a.push(s)}if(e.chemotherapy?.adjuvantEndDate){let s=H(e.chemotherapy.adjuvantEndDate,"Adjuvant End Date",{futureAllowed:!0});s&&a.push(s)}if(e.chemotherapy?.neoadjuvantCycles){let s=F(e.chemotherapy.neoadjuvantCycles,"Neoadjuvant Cycles",{min:1,max:50,integer:!0});s&&a.push(s)}if(e.chemotherapy?.adjuvantCycles){let s=F(e.chemotherapy.adjuvantCycles,"Adjuvant Cycles",{min:1,max:50,integer:!0});s&&a.push(s)}}if(e.radiation?.received){if(e.radiation?.startDate){let s=H(e.radiation.startDate,"Radiation Start Date",{futureAllowed:!0});s&&a.push(s)}if(e.radiation?.endDate){let s=H(e.radiation.endDate,"Radiation End Date",{futureAllowed:!0});s&&a.push(s)}if(e.radiation?.totalDose){let s=F(e.radiation.totalDose,"Radiation Dose",{min:0,max:200});s&&a.push(s)}if(e.radiation?.fractions){let s=F(e.radiation.fractions,"Radiation Fractions",{min:1,max:100,integer:!0});s&&a.push(s)}}if(e.analgesiaStartDate){let s=H(e.analgesiaStartDate,"Analgesia Start Date",{futureAllowed:!1});s&&a.push(s)}if(e.treatmentStartDate){let s=H(e.treatmentStartDate,"Treatment Start Date",{futureAllowed:!0});s&&a.push(s)}return{isValid:0===a.length,errors:a}};function X(){let{isAuthenticated:e,isLoading:a}=(0,i.useAuth)(),s=(0,l.useRouter)();if((0,r.useEffect)(()=>{a||e||s.push("/login")},[e,a,s]),a)return t.jsx(n.A,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!e)return null;let o=async e=>{try{let a=await fetch("/api/v1/patients",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to create patient");let t=await a.json();s.push(`/patients/view?id=${t.data.id}`)}catch(e){throw console.error("Error creating patient:",e),e}},c=async e=>{try{localStorage.setItem("patient-draft",JSON.stringify(e)),console.log("Draft saved:",e)}catch(e){console.error("Error saving draft:",e)}};return(0,t.jsxs)(n.A,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registrasi Pasien Tumor Muskuloskeletal"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["Sistem registrasi tumor muskuloskeletal berdasarkan"," ",t.jsx("strong",{children:"WHO Classification 5th Edition"})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-4",children:[t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"9 Bagian Form (90% Lengkap)"}),t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"57 Klasifikasi Tumor Tulang WHO"}),t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:"68 Klasifikasi Tumor Jaringan Lunak WHO"}),t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"Mirrel Score Calculator"}),t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-pink-100 text-pink-800",children:"MSTS Score Ready"})]})]}),t.jsx(d,{autoSaveInterval:12e4,children:t.jsx(u,{sections:[{id:"section1",title:"Pusat & Patologi",description:"Pilih pusat pengobatan dan jenis patologi tumor",component:m,validate:V},{id:"section2",title:"Identitas Pasien",description:"Data identitas dan demografi pasien",component:g,validate:_},{id:"section3",title:"Data Klinis",description:"Karnofsky Score, Pain Scale, BMI, dan pemeriksaan fisik",component:b,validate:$},{id:"section4",title:"Pemeriksaan Penunjang",description:"Laboratorium, Radiologi, Mirrel Score, dan Patologi",component:N,validate:q},{id:"section5",title:"Diagnosis & Lokasi",description:"Klasifikasi WHO dan lokasi anatomis tumor",component:I,validate:U},{id:"section6",title:"Staging",description:"Enneking, AJCC, dan grading tumor",component:A,validate:W},{id:"section7",title:"CPC Conference",description:"Keputusan multidisipliner tim onkologi",component:D,validate:J},{id:"section8",title:"Management",description:"Terapi pembedahan, kemoterapi, radioterapi",component:L,validate:Y},{id:"section10",title:"Review & Submit",description:"Tinjau dan kirim data pasien",component:E}],onComplete:o,onSaveDraft:c,autoSaveInterval:12e4})})]})}function Q(){return t.jsx(X,{})}},8199:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let t=(0,s(6843).createProxy)(String.raw`D:\Project\Tumor Registry\INAMSOS Application Desktop\frontend\src\app\patients\new\page.tsx`),{__esModule:r,$$typeof:l}=t,i=t.default}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[4717,4192,4573],()=>s(428));module.exports=t})();