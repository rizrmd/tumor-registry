(()=>{var e={};e.id=1413,e.ids=[1413],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},6281:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6861:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=r(7096),s=r(6132),i=r(7284),n=r.n(i),l=r(2564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["reports",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3303)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\reports\\history\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4775)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,5666)),"D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\not-found.tsx"]}],c=["D:\\Project\\Tumor Registry\\tumor-registry\\frontend\\src\\app\\reports\\history\\page.tsx"],u="/reports/history/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/reports/history/page",pathname:"/reports/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4021:(e,t,r)=>{Promise.resolve().then(r.bind(r,3928))},3928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(3854),s=r(4218),i=r(5815),n=r(3984);function l(){let{user:e,isAuthenticated:t,isLoading:r}=(0,i.useAuth)(),[l,d]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[u,x]=(0,s.useState)(!0),[p,m]=(0,s.useState)(""),[g,h]=(0,s.useState)("all"),[y,f]=(0,s.useState)("all"),[j,b]=(0,s.useState)(""),[v,w]=(0,s.useState)(""),[N,k]=(0,s.useState)(1);(0,s.useEffect)(()=>{if(!r&&!t){window.location.href="/login";return}t&&S()},[t,r]),(0,s.useEffect)(()=>{P()},[l,p,g,y,j,v]);let S=async()=>{try{x(!0);let e=[{id:"RPT-2025-001",name:"Laporan Insidensi Kanker Q4 2025",type:"Epidemiologi",generatedAt:"2025-11-22 14:30",generatedBy:"Dr. Siti Nurhaliza",fileSize:"2.4 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-002",name:"Kualitas Data November 2025",type:"Kualitas",generatedAt:"2025-11-21 09:15",generatedBy:"Dr. Budi Santoso",fileSize:"1.8 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-003",name:"Performa Pusat - Bulanan",type:"Administrasi",generatedAt:"2025-11-20 16:45",generatedBy:"Admin RSCM",fileSize:"-",status:"processing"},{id:"RPT-2025-004",name:"Hasil Pengobatan 2025",type:"Klinis",generatedAt:"2025-11-19 11:20",generatedBy:"Dr. Ahmad Wijaya",fileSize:"3.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-005",name:"Demografis Pasien Jawa Barat",type:"Epidemiologi",generatedAt:"2025-11-18 08:00",generatedBy:"Dr. Rina Kartika",fileSize:"1.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-006",name:"Analisis Survival Rate 2020-2025",type:"Klinis",generatedAt:"2025-11-17 15:30",generatedBy:"Dr. Hendra Gunawan",fileSize:"4.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-007",name:"Laporan Tahunan 2024",type:"Administrasi",generatedAt:"2025-11-16 10:00",generatedBy:"Admin Dharmais",fileSize:"8.5 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-008",name:"Pola Pengobatan Kanker Payudara",type:"Klinis",generatedAt:"2025-11-15 13:45",generatedBy:"Dr. Dewi Lestari",fileSize:"-",status:"failed"},{id:"RPT-2025-009",name:"Distribusi Geografis Kasus Oktober",type:"Epidemiologi",generatedAt:"2025-11-14 09:30",generatedBy:"Dr. Eko Prasetyo",fileSize:"2.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-010",name:"Evaluasi Screening Program 2025",type:"Kualitas",generatedAt:"2025-11-13 14:15",generatedBy:"Dr. Lina Marlina",fileSize:"1.5 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-011",name:"Laporan Kanker Serviks Nasional",type:"Epidemiologi",generatedAt:"2025-10-28 11:00",generatedBy:"Dr. Siti Nurhaliza",fileSize:"3.8 MB",status:"expired"},{id:"RPT-2025-012",name:"Statistik Kemoterapi Q3 2025",type:"Klinis",generatedAt:"2025-10-15 16:20",generatedBy:"Dr. Ahmad Wijaya",fileSize:"2.7 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-013",name:"Audit Kelengkapan Data September",type:"Kualitas",generatedAt:"2025-10-01 08:45",generatedBy:"Admin RSCM",fileSize:"1.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-014",name:"Perbandingan Treatment Outcomes",type:"Klinis",generatedAt:"2025-09-20 13:30",generatedBy:"Dr. Budi Santoso",fileSize:"5.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-015",name:"Laporan Insiden Kanker Anak 2025",type:"Epidemiologi",generatedAt:"2025-09-10 10:15",generatedBy:"Dr. Rina Kartika",fileSize:"2.9 MB",status:"expired"}];d(e),c(e)}catch(e){console.error("Error fetching reports:",e)}finally{x(!1)}},P=()=>{let e=[...l];p&&(e=e.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.id.toLowerCase().includes(p.toLowerCase()))),"all"!==g&&(e=e.filter(e=>e.type===g)),"all"!==y&&(e=e.filter(e=>e.status===y)),j&&(e=e.filter(e=>{let t=new Date(e.generatedAt);return t>=new Date(j)})),v&&(e=e.filter(e=>{let t=new Date(e.generatedAt);return t<=new Date(v+" 23:59:59")})),c(e),k(1)},A=e=>{switch(e){case"completed":return"text-green-700 bg-green-100 border-green-200";case"processing":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"failed":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},B=e=>{switch(e){case"completed":return"Selesai";case"processing":return"Diproses";case"failed":return"Gagal";case"expired":return"Kadaluarsa";default:return e}},D=e=>{alert(`Mengunduh: ${e.name}
Ukuran: ${e.fileSize}`)},M=e=>{alert(`Menampilkan pratinjau: ${e.name}`)},T=e=>{alert(`Mencoba ulang generate laporan: ${e.name}`)},R=Math.ceil(o.length/10),L=(N-1)*10,C=o.slice(L,L+10);return r||u?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?(0,a.jsxs)(n.A,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Riwayat Laporan"}),a.jsx("p",{className:"text-gray-600",children:"Lihat dan kelola riwayat laporan yang telah dibuat"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filter & Pencarian"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Laporan"}),a.jsx("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"Nama laporan atau ID...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Laporan"}),(0,a.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Semua Tipe"}),a.jsx("option",{value:"Epidemiologi",children:"Epidemiologi"}),a.jsx("option",{value:"Klinis",children:"Klinis"}),a.jsx("option",{value:"Administrasi",children:"Administrasi"}),a.jsx("option",{value:"Kualitas",children:"Kualitas"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Semua Status"}),a.jsx("option",{value:"completed",children:"Selesai"}),a.jsx("option",{value:"processing",children:"Diproses"}),a.jsx("option",{value:"failed",children:"Gagal"}),a.jsx("option",{value:"expired",children:"Kadaluarsa"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{m(""),h("all"),f("all"),b(""),w("")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Reset Filter"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dari Tanggal"}),a.jsx("input",{type:"date",value:j,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sampai Tanggal"}),a.jsx("input",{type:"date",value:v,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:["Menampilkan ",a.jsx("strong",{children:C.length})," dari ",a.jsx("strong",{children:o.length})," laporan",(p||"all"!==g||"all"!==y||j||v)&&" (terfilter)"]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID / Nama Laporan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipe"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dibuat"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dibuat Oleh"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ukuran"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===C.length?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"mt-2",children:"Tidak ada laporan ditemukan"})]})})}):C.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:e.id})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:e.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:e.generatedAt})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:e.generatedBy})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:e.fileSize})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${A(e.status)}`,children:B(e.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:["completed"===e.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>M(e),className:"text-blue-600 hover:text-blue-900 font-medium",title:"Lihat",children:(0,a.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsx("button",{onClick:()=>D(e),className:"text-green-600 hover:text-green-900 font-medium",title:"Download",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),"processing"===e.status&&a.jsx("span",{className:"text-yellow-600 text-xs",children:"Sedang diproses..."}),"failed"===e.status&&a.jsx("button",{onClick:()=>T(e),className:"text-red-600 hover:text-red-900 font-medium text-xs",children:"Coba Lagi"}),"expired"===e.status&&a.jsx("span",{className:"text-gray-500 text-xs",children:"Tidak tersedia"})]})})]},e.id))})]})}),R>1&&a.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Halaman ",a.jsx("strong",{children:N})," dari ",a.jsx("strong",{children:R})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>k(e=>Math.max(1,e-1)),disabled:1===N,className:`px-4 py-2 border rounded-lg ${1===N?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sebelumnya"}),a.jsx("button",{onClick:()=>k(e=>Math.min(R,e+1)),disabled:N===R,className:`px-4 py-2 border rounded-lg ${N===R?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Selanjutnya"})]})]})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Redirecting to login..."})]})})}},3303:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>d});var a=r(5153);let s=(0,a.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\app\reports\history\page.tsx`),{__esModule:i,$$typeof:n}=s,l=s.default,d=l}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[296,6905,3984],()=>r(6861));module.exports=a})();