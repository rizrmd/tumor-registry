exports.id=6905,exports.ids=[6905],exports.modules={409:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},4073:(e,t,r)=>{Promise.resolve().then(r.bind(r,1422)),Promise.resolve().then(r.bind(r,5815)),Promise.resolve().then(r.bind(r,5118)),Promise.resolve().then(r.bind(r,1691))},119:(e,t,r)=>{Promise.resolve().then(r.bind(r,8599))},8599:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(3854),s=r(5548),n=r.n(s);function o(){return a.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-9xl font-bold text-emerald-600",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mt-4",children:"Halaman Tidak Ditemukan"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Maaf, halaman yang Anda cari tidak dapat ditemukan atau belum tersedia."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(n(),{href:"/dashboard",className:"block w-full px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Kembali ke Dashboard"}),a.jsx(n(),{href:"/patients",className:"block w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Lihat Data Pasien"})]}),a.jsx("div",{className:"mt-8",children:a.jsx("svg",{className:"mx-auto h-48 w-48 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M12 12h.01M12 12h.01M12 16h.01M12 16h.01M12 16h.01M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})}},1422:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UpdateNotification:()=>o,useUpdateNotification:()=>l});var a=r(3854),s=r(4218),n=r(8029);function o({onDownloadUpdate:e,onDismiss:t}){let{CheckForUpdates:r,GetCachedUpdateInfo:o,GetAppVersion:l,PerformUpdate:i}=(0,n.p)(),[c,u]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),[h,g]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[p,y]=(0,s.useState)("confirmation"),[w,b]=(0,s.useState)(0),[v,k]=(0,s.useState)(""),[j,S]=(0,s.useState)(""),[N,P]=(0,s.useState)(!0),[A,C]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=!0,t=async()=>{try{let t=await l();if(!e)return;t&&"web"!==t&&m(t);let r=await o();if(!e)return;r?.updateAvailable&&(u(r),g(!0))}catch(t){if(!e)return;console.log("[UpdateNotification] Update check skipped (not in desktop mode or error)")}};return t(),()=>{e=!1}},[l,o]);let T=async()=>{y("backing-up"),b(0),C("");try{await i?.(c.downloadUrl,N,e=>{if(k(e),e.includes("Backup"))y("backing-up"),b(25);else if(e.includes("Downloading"))y("downloading"),b(50);else if(e.includes("%")){let t=e.match(/(\d+\.?\d*)%/);if(t){let e=parseFloat(t[1]);"downloading"===p&&b(50+e/2)}}else e.includes("Installing")?(y("installing"),b(75)):e.includes("complete")&&(y("complete"),b(100))}),y("complete")}catch(e){console.error("Update failed:",e),C(e?.message||"Update failed"),y("error")}},I=()=>{c?.mandatory||g(!1),t?.()},E=()=>{"complete"===p&&g(!1),I()};return h&&c?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",children:[a.jsx("div",{className:`px-6 py-4 ${"error"===p?"bg-red-500":"complete"===p?"bg-emerald-500":c.mandatory?"bg-red-500":"bg-emerald-500"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-semibold text-lg",children:"error"===p?"Update Failed":"complete"===p?"Update Complete":"confirmation"===p?c.mandatory?"Mandatory Update Required":"New Update Available":"Updating..."}),("confirmation"===p||"complete"===p)&&!c.mandatory&&a.jsx("button",{onClick:E,className:"text-white/80 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:["confirmation"===p&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:c.mandatory?`A mandatory update is available. Version ${c.latestVersion} includes important security and stability fixes.`:`A new version (${c.latestVersion}) is available! You're currently running ${d||c.currentVersion}.`}),c.changelog&&c.changelog.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"What's New:"}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:c.changelog.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-emerald-500 mr-2",children:"â€¢"}),a.jsx("span",{children:e})]},t))})]}),c.releaseDate&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-4",children:["Released: ",new Date(c.releaseDate).toLocaleDateString()]}),a.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:N,onChange:e=>P(e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Create backup before updating"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Recommended - backs up your database and files"})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:T,className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all shadow-sm ${c.mandatory?"bg-red-600 text-white hover:bg-red-700 active:scale-[0.98]":"bg-emerald-600 text-white hover:bg-emerald-700 active:scale-[0.98]"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),a.jsx("span",{children:"Update Now"})]}),!c.mandatory&&a.jsx("button",{onClick:I,className:"px-4 py-2.5 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 transition-colors",children:"Later"})]})]}),("backing-up"===p||"downloading"===p||"installing"===p)&&(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:a.jsx("div",{className:"h-3 rounded-full transition-all duration-300 bg-blue-500",style:{width:`${w}%`}})}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:`flex items-center justify-center text-sm ${"backing-up"===p?"text-blue-600 font-semibold":"text-gray-500"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${"backing-up"===p?"bg-blue-500":"bg-gray-300"}`}),"Backing up data"]}),(0,a.jsxs)("div",{className:`flex items-center justify-center text-sm ${"downloading"===p?"text-blue-600 font-semibold":"text-gray-500"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${"downloading"===p?"bg-blue-500 animate-pulse":"bg-gray-300"}`}),"Downloading update"]}),(0,a.jsxs)("div",{className:`flex items-center justify-center text-sm ${"installing"===p?"text-blue-600 font-semibold":"text-gray-500"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${"installing"===p?"bg-blue-500 animate-pulse":"bg-gray-300"}`}),"Installing update"]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:v})]}),"complete"===p&&(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Update Complete!"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["The application has been updated to version ",c.latestVersion,".",j&&" Your data was backed up before the update."]}),a.jsx("button",{onClick:E,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-lg font-semibold hover:bg-emerald-700 transition-colors",children:"Continue"})]}),"error"===p&&(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Update Failed"}),a.jsx("p",{className:"text-gray-600 mb-4",children:A}),(0,a.jsxs)("div",{className:"flex space-x-3 justify-center",children:[a.jsx("button",{onClick:T,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-lg font-semibold hover:bg-emerald-700 transition-colors",children:"Try Again"}),a.jsx("button",{onClick:I,className:"px-6 py-2.5 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})]})}):null}function l(){let[e,t]=(0,s.useState)(!1);return{UpdateNotification:o,ManualCheckButton:()=>{let{CheckForUpdates:e}=(0,n.p)(),[r,o]=(0,s.useState)(!1),l=async()=>{o(!0);try{await e?.(),t(!0)}catch(e){console.error("Failed to check for updates:",e)}finally{o(!1)}};return a.jsx("button",{onClick:l,disabled:r,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-emerald-600 rounded-full animate-spin"}),a.jsx("span",{children:"Checking..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Check for Updates"})]})})},showManualCheck:e,setShowManualCheck:t}}},5815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>u,useAuth:()=>l});var a=r(3854),s=r(4218),n=r(2719);let o=(0,s.createContext)(void 0),l=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},i="token",c="passwordVersion",u=({children:e})=>{let[t,r]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0),[d,m]=(0,s.useState)(!1),h=(0,s.useRef)(null);!function(){let e=(0,s.useRef)(null);(0,s.useEffect)(()=>{let t=async()=>{let e=n.Z.getToken();if(e&&n.Z.isTokenExpiringSoon(e)){console.log("[Token Refresh] Token expiring soon, refreshing...");try{let e=await n.Z.refreshAccessToken();e?console.log("[Token Refresh] Token refreshed successfully"):console.log("[Token Refresh] Failed to refresh token, user will be logged out")}catch(e){console.error("[Token Refresh] Error refreshing token:",e)}}};return t(),e.current=setInterval(()=>{t()},6e4),()=>{e.current&&clearInterval(e.current)}},[]),(0,s.useEffect)(()=>{let e;let t=async()=>{let e=n.Z.getToken();e&&n.Z.isTokenExpiringSoon(e)&&(console.log("[Token Refresh] User activity detected, refreshing expiring token..."),await n.Z.refreshAccessToken())},r=()=>{clearTimeout(e),e=setTimeout(t,2e3)};return window.addEventListener("mousemove",r),window.addEventListener("keydown",r),window.addEventListener("click",r),()=>{clearTimeout(e),window.removeEventListener("mousemove",r),window.removeEventListener("keydown",r),window.removeEventListener("click",r)}},[])}();let g=(0,s.useCallback)(()=>{n.Z.logout(),r(null),m(!1),localStorage.removeItem(c)},[]),f=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem(i);if(!e)return!1;let t=localStorage.getItem(c);if(!t)return!0;let r=await n.Z.getProfile(),a=r.updatedAt?new Date(r.updatedAt).getTime():null,s=parseInt(t,10);if(a&&a!==s)return console.warn("[Auth] Password version mismatch - password changed on server"),g(),!1;return!0}catch(e){if(e.message?.includes("Network Error")||e.message?.includes("timeout"))return console.log("[Auth] Offline mode - skipping password version check"),!0;if(e.response?.status===401)return console.warn("[Auth] Token invalid - password may have changed"),g(),!1;return console.error("[Auth] Error checking password version:",e),!0}},[g]);(0,s.useEffect)(()=>{let e=async()=>{try{let e=localStorage.getItem(i);if(e)try{let e=await n.Z.getProfile();r(e),m(!0),e.updatedAt&&localStorage.setItem(c,new Date(e.updatedAt).getTime().toString())}catch(t){if(t.response?.status===401&&t.response?.data?.message?.includes("Password changed")){console.warn("[Auth] Password changed on server - forcing logout"),g();return}console.warn("[Auth] API not available, using cached user:",t);let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);r(t),m(!0)}catch(e){g()}else g()}else u(!1)}catch(e){console.error("[Auth] Auth check failed:",e),r(null),m(!1)}finally{u(!1)}};e()},[g]),(0,s.useEffect)(()=>{if(!d)return;let e=setInterval(()=>{navigator.onLine&&f()},12e4);h.current=e;let t=()=>{console.log("[Auth] Connection restored - checking password version"),f()};return window.addEventListener("online",t),()=>{clearInterval(e),window.removeEventListener("online",t),h.current=null}},[d,f]);let x=async(e,t,a)=>{u(!0);try{let a=await n.Z.login({email:e,password:t});r(a.user),m(!0);let s=await n.Z.getProfile();s.updatedAt&&localStorage.setItem(c,new Date(s.updatedAt).getTime().toString())}catch(e){throw console.error("[Auth] Login error:",e),e}finally{u(!1)}},p=async e=>{u(!0);try{console.log("[Auth] Registration successful:",e)}catch(e){throw console.error("[Auth] Registration error:",e),e}finally{u(!1)}},y=async()=>{try{let e=await n.Z.getProfile();r(e),m(!0),e.updatedAt&&localStorage.setItem(c,new Date(e.updatedAt).getTime().toString())}catch(e){throw console.error("[Auth] Token refresh error:",e),e.response?.status===401&&e.response?.data?.message?.includes("Password changed")&&console.warn("[Auth] Password changed - forcing logout"),g(),e}},w=async e=>{try{console.log("[Auth] Email verification:",e)}catch(e){throw console.error("[Auth] Email verification error:",e),e}};return a.jsx(o.Provider,{value:{user:t,isLoading:l,isAuthenticated:d,login:x,register:p,logout:g,refreshToken:y,verifyEmail:w,checkPasswordVersion:f},children:e})}},5118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SyncProvider:()=>c,useSync:()=>u});var a=r(3854),s=r(4218),n=r(3421),o=r(5815);let l=(0,s.createContext)(void 0),i={phase:"idle",phaseProgress:0,dataPushed:0,dataPulled:0,filesSynced:0,totalFiles:0};function c({children:e}){let{user:t}=(0,o.useAuth)(),[r,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),[m,h]=(0,s.useState)(!1),[g,f]=(0,s.useState)(i),[x,p]=(0,s.useState)(null),[y,w]=(0,s.useState)(null),b=(0,s.useRef)(null),v=(0,s.useRef)(null),k=(0,s.useCallback)(async()=>{if(t)try{let e=await n.Rb.getStatistics();c(e),w(null),e.processing>0?h(!0):m&&0===e.processing&&(h(!1),p(new Date))}catch(e){console.error("Failed to fetch sync statistics:",e),w(e.message||"Failed to fetch sync status")}},[t,m]),j=(0,s.useCallback)(async()=>{if(t)try{let e=await n.Rb.getFullSyncStatus();d(e)}catch(e){console.error("Failed to fetch full sync status:",e)}},[t]),S=async()=>{if(!m){h(!0),w(null);try{await n.Rb.syncAll(),await k(),p(new Date)}catch(e){console.error("Manual sync failed:",e),w(e.message||"Manual sync failed")}finally{h(!1)}}},N=async()=>{if(!m){h(!0),w(null),f({...i,phase:"push"});try{v.current=setInterval(async()=>{await j()},1e3),await n.Rb.runFullSync(),f({...i,phase:"complete"}),await k(),await j(),p(new Date)}catch(e){console.error("Full sync failed:",e),w(e.message||"Full sync failed"),f({...i,phase:"error"})}finally{h(!1),v.current&&(clearInterval(v.current),v.current=null)}}};return(0,s.useEffect)(()=>{if(!u||!m)return;let{dataSync:e,fileSync:t,isOnline:r}=u,a="idle";r?e.processing>0?a="push":t.inProgress>0||t.pending>0?a="files":0===e.pending&&0===t.pending&&(a="complete"):a="error",f(r=>({...r,phase:a,dataPushed:e.synced,dataPulled:e.synced,filesSynced:t.completed,totalFiles:t.completed+t.pending+t.inProgress,currentFile:t.currentFile,phaseProgress:t.currentProgress||0}))},[u,m]),(0,s.useEffect)(()=>(t?(k(),j(),b.current=setInterval(()=>{k(),j()},3e4)):(b.current&&(clearInterval(b.current),b.current=null),c(null),d(null)),()=>{b.current&&clearInterval(b.current),v.current&&clearInterval(v.current)}),[t,k,j]),a.jsx(l.Provider,{value:{statistics:r,fullSyncStatus:u,isSyncing:m,syncProgress:g,lastSyncedAt:x,error:y,triggerSync:S,triggerFullSync:N,refreshStatistics:k},children:e})}function u(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useSync must be used within a SyncProvider");return e}},8029:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(4218);function s(){return null}function n(){let[e,t]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=s();return!!e&&(t(!0),!0)};if(e())return;let r=0,a=setInterval(()=>{r++,(e()||r>=50)&&(clearInterval(a),r>=50&&console.log("[useWails] Running in web mode (Wails not detected)"))},100);return()=>clearInterval(a)},[]);let r=(0,a.useCallback)(async()=>{let e=s();if(!e)return"web";try{return await e.GetAppVersion()}catch(e){return console.error("Failed to get app version:",e),"web"}},[]),n=(0,a.useCallback)(async()=>{let e=s();if(!e)return null;try{return await e.CheckForUpdates()}catch(e){return console.error("Failed to check for updates:",e),null}},[]),o=(0,a.useCallback)(async()=>{let e=s();if(!e)return null;try{return await e.GetCachedUpdateInfo()}catch(e){return console.error("Failed to get cached update info:",e),null}},[]),l=(0,a.useCallback)(async()=>{let e=s();if(!e)return null;try{return await e.CreateBackup()}catch(e){throw console.error("Failed to create backup:",e),e}},[]),i=(0,a.useCallback)(async()=>{let e=s();if(!e)return null;try{return await e.ListBackups()}catch(e){return console.error("Failed to list backups:",e),null}},[]),c=(0,a.useCallback)(async e=>{let t=s();if(t)try{await t.RestoreBackup(e)}catch(e){throw console.error("Failed to restore backup:",e),e}},[]),u=(0,a.useCallback)(async e=>{let t=s();if(t)try{await t.DeleteBackup(e)}catch(e){throw console.error("Failed to delete backup:",e),e}},[]),d=(0,a.useCallback)(async(e,t,r)=>{let a=s();if(a)try{await a.PerformUpdate(e,t,r)}catch(e){throw console.error("Failed to perform update:",e),e}},[]),m=(0,a.useCallback)(async(e,t)=>{let r=s();if(r)try{await r.ImportDataFromPath(e,t)}catch(e){throw console.error("Failed to import data:",e),e}},[]),h=(0,a.useCallback)(async(e,t)=>{let r=s();if(!r)return null;try{return await r.Login(e,t)}catch(e){return console.error("Login failed:",e),null}},[]),g=(0,a.useCallback)(async()=>{let e=s();if(e)try{await e.Logout()}catch(e){console.error("Logout failed:",e)}},[]),f=(0,a.useCallback)(async()=>{let e=s();if(!e)return null;try{return await e.GetAuthStatus()}catch(e){return console.error("Failed to get auth status:",e),null}},[]),x=(0,a.useCallback)(async()=>{let e=s();if(!e)return"";try{return await e.GetCentralServerUrl()}catch(e){return console.error("Failed to get central server URL:",e),""}},[]);return{isWailsAvailable:e,GetAppVersion:r,CheckForUpdates:n,GetCachedUpdateInfo:o,CreateBackup:l,ListBackups:i,RestoreBackup:c,DeleteBackup:u,PerformUpdate:d,ImportDataFromPath:m,Login:h,Logout:g,GetAuthStatus:f,GetCentralServerUrl:x}}},1691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{QueryProvider:()=>i});var a=r(3854),s=r(1575),n=r(6214),o=r(6595),l=r(4218);function i({children:e}){let[t]=(0,l.useState)(()=>new s.S({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!1}}}));return(0,a.jsxs)(n.aH,{client:t,children:[e,a.jsx(o.t,{initialIsOpen:!1})]})}},9914:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(6874);let s="/api/v1";console.log("[API] Base URL:",s);let n=a.Z.create({baseURL:s,timeout:3e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status,r=e.response.data,a=401===t||400===t&&r?.error?.details?.some(e=>"Unauthorized"===e.message||e.message?.includes("token"));a?(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")):403===t?console.error("Access forbidden"):404===t?console.error("Resource not found"):t>=500&&console.error("Server error occurred")}else e.request?console.error("Network error - no response from server"):console.error("Error setting up request:",e.message);return Promise.reject(e)});let o=n},2719:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(9914);class s{async login(e){let t=await a.Z.post("/auth/login",e);return t.data.accessToken&&(localStorage.setItem("token",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data}logout(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"}getCurrentUser(){let e=localStorage.getItem("user");if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing user from localStorage:",e)}return null}isAuthenticated(){let e=localStorage.getItem("token");return!!e}getToken(){return localStorage.getItem("token")}async getProfile(){let e=await a.Z.get("/auth/profile");return e.data}async refreshAccessToken(){try{let e=localStorage.getItem("refreshToken");if(!e)return null;let t=await a.Z.post("/auth/refresh-token",{refreshToken:e});return t.data.accessToken&&(localStorage.setItem("token",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken)),t.data}catch(e){return console.error("Failed to refresh token:",e),this.logout(),null}}getTokenExpiration(e){try{let t=JSON.parse(atob(e.split(".")[1]));return t.exp?1e3*t.exp:null}catch(e){return console.error("Failed to decode token:",e),null}}isTokenExpiringSoon(e){let t=this.getTokenExpiration(e);if(!t)return!0;let r=Date.now();return t-r<3e5}async changePassword(e,t){await a.Z.post("/auth/change-password",{oldPassword:e,newPassword:t})}}let n=new s},3421:(e,t,r)=>{"use strict";r.d(t,{Rb:()=>n,Wp:()=>a});var a,s=r(9914);!function(e){e.USE_LOCAL="USE_LOCAL",e.USE_REMOTE="USE_REMOTE",e.MERGE="MERGE",e.MANUAL="MANUAL"}(a||(a={}));let n={getStatistics:async()=>{let e=await s.Z.get("/offline-queue/statistics");return e.data},getQueueItems:async(e=100)=>{let t=await s.Z.get("/offline-queue/pending",{params:{limit:e}});return t.data},resolveConflict:async(e,t,r)=>{let a=await s.Z.put(`/offline-queue/${e}/resolve-conflict`,{resolution:t,mergedData:r});return a.data},retryItem:async e=>{let t=await s.Z.put(`/offline-queue/${e}/retry`);return t.data},syncAll:async()=>{let e=await s.Z.post("/offline-queue/sync-all");return e.data},runFullSync:async()=>{let e=await s.Z.post("/offline-queue/full-sync");return e.data},getFullSyncStatus:async()=>{let e=await s.Z.get("/offline-queue/full-sync-status");return e.data},getFileSyncStatus:async()=>{let e=await s.Z.get("/offline-queue/files/status");return e.data},syncFiles:async()=>{let e=await s.Z.post("/offline-queue/files/sync");return e.data},getPendingFiles:async(e=100)=>{let t=await s.Z.get("/offline-queue/files/pending",{params:{limit:e}});return t.data}}},4775:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N,metadata:()=>j,viewport:()=>S});var a=r(4656),s=r(186),n=r.n(s);r(5023);var o=r(5153);let l=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\AuthContext.tsx`),{__esModule:i,$$typeof:c}=l;l.default,(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\AuthContext.tsx#useAuth`);let u=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\AuthContext.tsx#AuthProvider`),d=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\providers\QueryProvider.tsx`),{__esModule:m,$$typeof:h}=d;d.default;let g=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\providers\QueryProvider.tsx#QueryProvider`),f=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\SyncContext.tsx`),{__esModule:x,$$typeof:p}=f;f.default;let y=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\SyncContext.tsx#SyncProvider`);(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\contexts\SyncContext.tsx#useSync`);let w=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\components\UpdateNotification.tsx`),{__esModule:b,$$typeof:v}=w;w.default;let k=(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\components\UpdateNotification.tsx#UpdateNotification`);(0,o.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\components\UpdateNotification.tsx#useUpdateNotification`);let j={title:"INAMSOS - Indonesia National Cancer Database System",description:"Database Tumor Nasional untuk kolegium Indonesia",authors:[{name:"INAMSOS Team"}],keywords:["cancer","database","indonesia","medical","research"]},S={width:"device-width",initialScale:1,themeColor:"#10b981"};function N({children:e}){return a.jsx("html",{lang:"id",className:"h-full",children:a.jsx("body",{className:`${n().className} h-full bg-gray-50`,children:a.jsx(g,{children:a.jsx(u,{children:(0,a.jsxs)(y,{children:[e,a.jsx(k,{})]})})})})})}},5666:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var a=r(5153);let s=(0,a.createProxy)(String.raw`D:\Project\Tumor Registry\tumor-registry\frontend\src\app\not-found.tsx`),{__esModule:n,$$typeof:o}=s,l=s.default,i=l},5023:()=>{}};