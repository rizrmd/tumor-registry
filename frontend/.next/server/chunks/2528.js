"use strict";exports.id=2528,exports.ids=[2528],exports.modules={2528:(e,s,r)=>{r.d(s,{A:()=>u});var t=r(2295),n=r(3729),a=r.n(n),l=r(2254),i=r(3973),o=r(783),d=r.n(o),c=r(47);function m(){let{statistics:e,fullSyncStatus:s,isSyncing:r,syncProgress:a,lastSyncedAt:l,error:i,triggerFullSync:o}=(0,c.useSync)(),[m,x]=(0,n.useState)(!1),h=(0,n.useRef)(null);if((0,n.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),!e)return null;let u=e.failed>0,N=e.conflict>0,g=e.pending>0||e.processing>0;e.needsAttention;let f="bg-emerald-500",p="Synced",E="animate-blink-slow",b=t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});return r?(f="bg-blue-500",p="Syncing...",E="animate-blink-fast",b=t.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})):N?(f="bg-red-600",p="Conflicts",E="animate-blink-fast",b=t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})):u?(f="bg-red-500",p="Failed Items",E="animate-blink-slow",b=t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})):g&&(f="bg-yellow-500",p="Unsynced",E="",b=t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})),(0,t.jsxs)("div",{className:"relative",ref:h,children:[(0,t.jsxs)("button",{onClick:()=>x(!m),className:"flex items-center space-x-2 px-3 py-1.5 rounded-full border border-gray-200 hover:bg-gray-50 transition-colors bg-white shadow-sm",title:`Sync Status: ${p}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${f} ${E}`}),t.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:p}),b]}),m&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-50 bg-gray-50/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Sync Details"}),l&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Last synced: ",l.toLocaleTimeString()]})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[r&&(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-semibold text-blue-700",children:(e=>{switch(e){case"idle":return"Idle";case"push":return"Uploading data...";case"pull":return"Downloading data...";case"files":return"Syncing files...";case"complete":return"Complete";case"error":return"Error";default:return"Unknown"}})(a.phase)}),(0,t.jsxs)("span",{className:"text-xs font-medium text-blue-600",children:[a.phaseProgress,"%"]})]}),t.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.phaseProgress}%`}})}),a.currentFile&&t.jsx("p",{className:"text-xs text-blue-600 truncate",children:a.currentFile.split("/").pop()}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-blue-500",children:"Data Pushed:"}),t.jsx("span",{className:"font-semibold text-blue-700 ml-1",children:a.dataPushed})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-blue-500",children:"Data Pulled:"}),t.jsx("span",{className:"font-semibold text-blue-700 ml-1",children:a.dataPulled})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-blue-500",children:"Files:"}),(0,t.jsxs)("span",{className:"font-semibold text-blue-700 ml-1",children:[a.filesSynced,"/",a.totalFiles]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Data Sync"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Synced"}),t.jsx("p",{className:"text-xl font-bold text-emerald-600",children:e.synced})]}),(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Pending"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:e.pending})]}),(0,t.jsxs)(d(),{href:"/sync/conflicts",className:"p-2.5 rounded-lg bg-orange-50 border border-orange-200 hover:bg-orange-100 transition-colors cursor-pointer block",onClick:()=>x(!1),children:[t.jsx("p",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider",children:"Conflicts"}),t.jsx("p",{className:"text-xl font-bold text-orange-600",children:e.conflict})]}),(0,t.jsxs)(d(),{href:"/sync/conflicts",className:"p-2.5 rounded-lg bg-red-50 border border-red-200 hover:bg-red-100 transition-colors cursor-pointer block",onClick:()=>x(!1),children:[t.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase tracking-wider",children:"Failed"}),t.jsx("p",{className:"text-xl font-bold text-red-600",children:e.failed})]})]})]}),s?.fileSync&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"File Sync"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Pending"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:s.fileSync.pending})]}),(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"In Progress"}),t.jsx("p",{className:"text-xl font-bold text-blue-600",children:s.fileSync.inProgress})]}),(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Completed"}),t.jsx("p",{className:"text-xl font-bold text-emerald-600",children:s.fileSync.completed})]}),(0,t.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50 border border-gray-100",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Total Size"}),t.jsx("p",{className:"text-sm font-bold text-gray-700",children:(e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["B","KB","MB","GB"][s]})(s.fileSync.totalSize)})]})]})]}),t.jsx("button",{onClick:()=>{o(),x(!1)},disabled:r,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-sm ${r?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 active:scale-[0.98]"}`,children:r?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{children:"Syncing..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),t.jsx("span",{children:"Sync Now (Data + Files)"})]})})]}),t.jsx("div",{className:"p-3 bg-gray-50/50 border-t border-gray-50",children:t.jsx(d(),{href:"/sync/conflicts",className:"text-xs text-emerald-600 font-medium hover:text-emerald-700 block text-center",onClick:()=>x(!1),children:"Manage Sync Conflicts & Issues"})})]})]})}var x=r(3987),h=r(4669);function u({children:e}){var s;let{user:r,logout:o,isLoading:d}=(0,i.useAuth)(),c=(0,l.useRouter)(),u=(0,l.usePathname)(),[N,g]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[E,b]=(0,n.useState)([]),[A,j]=(0,n.useState)(!1),[y,D]=(0,n.useState)(!1),_=async()=>{try{await o(),c.push("/login")}catch(e){console.error("Logout failed:",e)}},v=[{name:"Dashboard",href:"/dashboard",icon:"\uD83D\uDCCA"},{name:"Data Pasien",href:"/patients",icon:"\uD83D\uDC65",roles:["DATA_ENTRY","MEDICAL_OFFICER","RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"],submenu:[{name:"Daftar Pasien",href:"/patients",roles:["DATA_ENTRY","MEDICAL_OFFICER","RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"]},{name:"Entry Data Baru",href:"/patients/new",roles:["DATA_ENTRY","MEDICAL_OFFICER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]}]},{name:"Follow-up & MSTS",href:"/follow-up",icon:"\uD83D\uDCC5",roles:["DATA_ENTRY","MEDICAL_OFFICER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"],submenu:[{name:"14-Visit Protocol",href:"/follow-up",roles:["DATA_ENTRY","MEDICAL_OFFICER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"]},{name:"MSTS Calculator",href:"/msts",roles:["DATA_ENTRY","MEDICAL_OFFICER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"]},{name:"Compliance Tracking",href:"/follow-up/compliance",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]},{name:"Reminder Management",href:"/follow-up/reminders",roles:["DATA_ENTRY","MEDICAL_OFFICER","CENTER_ADMIN","HEAD_OF_CENTER"]}]},{name:"Penelitian",href:"/research",icon:"\uD83D\uDD2C",roles:["RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER","DATA_ENTRY"],submenu:[{name:"Browse Data",href:"/research",roles:["RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER","DATA_ENTRY"]},{name:"Laporan",href:"/reports",roles:["RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER","DATA_ENTRY"]},{name:"Permintaan Data",href:"/research/requests",roles:["RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]}]},{name:"Persetujuan",href:"/approvals",icon:"✅",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"],submenu:[{name:"Antrian Permintaan",href:"/approvals",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]},{name:"Riwayat Persetujuan",href:"/approvals/history",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]}]},{name:"Analytics",href:"/analytics",icon:"\uD83D\uDCC8",roles:["DATA_ENTRY","MEDICAL_OFFICER","RESEARCHER","CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER","OBSERVER"]},{name:"Administrasi",href:"/admin",icon:"⚙️",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"],submenu:[{name:"User Management",href:"/admin/users",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]},{name:"Center Management",href:"/admin/centers",roles:["NATIONAL_ADMIN","SYSTEM_ADMIN"]},{name:"Audit Logs",href:"/admin/audit",roles:["CENTER_ADMIN","NATIONAL_ADMIN","SYSTEM_ADMIN","HEAD_OF_CENTER"]},{name:"Konfigurasi",href:"/admin/config",roles:["NATIONAL_ADMIN","SYSTEM_ADMIN"]}]},{name:"Pengaturan",href:"/settings",icon:"\uD83D\uDD27"}],M=v.filter(e=>!e.roles||r?.role&&e.roles.includes(r.role)),R=e=>{b(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},T=e=>e.href===u||!!e.submenu&&e.submenu.some(e=>e.href===u);return a().useEffect(()=>{let e=v.find(e=>!!e.submenu&&e.submenu.some(e=>e.href===u));e&&!E.includes(e.name)&&b(s=>[...s,e.name]),D(!0)},[u]),(0,n.useEffect)(()=>{let e=()=>{console.log("Network online detected. Starting sync..."),h.ZP.promise(x.Rb.runFullSync(),{loading:"Connection restored. Syncing data...",success:"Data synchronized successfully",error:"Sync failed (will retry later)"})};window.addEventListener("online",e),"undefined"!=typeof navigator&&navigator.onLine;let s=setInterval(()=>{"undefined"!=typeof navigator&&navigator.onLine&&(console.log("Running scheduled sync..."),x.Rb.runFullSync().catch(e=>console.error("Scheduled sync failed",e)))},3e5);return()=>{window.removeEventListener("online",e),clearInterval(s)}},[]),(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[A&&t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex items-center justify-center",children:t.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),t.jsx("span",{className:"text-gray-700 font-medium",children:"Loading..."})]})})}),N&&t.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>g(!1)}),t.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out lg:relative lg:translate-x-0 ${N?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-emerald-600 border-b border-emerald-700",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-emerald-600 font-bold text-lg",children:"I"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-white font-bold text-lg",children:"INAMSOS"}),t.jsx("p",{className:"text-emerald-100 text-xs",children:"Musculoskeletal Tumor Registry"})]})]})}),t.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:d?t.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)("div",{className:"flex items-center px-3 py-2 space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-100 rounded w-24"})]},e))}):M.map(e=>{let s=T(e),n=e.submenu&&e.submenu.length>0,a=E.includes(e.name);return(0,t.jsxs)("div",{children:[n?(0,t.jsxs)("button",{onClick:()=>R(e.name),className:`w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg group ${s?"bg-emerald-100 text-emerald-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-3 text-lg",children:e.icon}),e.name]}),t.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}):(0,t.jsxs)("a",{href:e.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg group ${s?"bg-emerald-100 text-emerald-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,onClick:()=>g(!1),children:[t.jsx("span",{className:"mr-3 text-lg",children:e.icon}),e.name]}),n&&a&&t.jsx("div",{className:"ml-6 mt-1 space-y-1",children:e.submenu.filter(e=>!e.roles||r?.role&&e.roles.includes(r.role)).map(e=>{let s=u===e.href;return t.jsx("a",{href:e.href,className:`flex items-center px-3 py-2 text-sm rounded-lg ${s?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>g(!1),children:e.name},e.name)})})]},e.name)})}),t.jsx("div",{className:"border-t border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-emerald-600 text-sm font-medium",children:r?.name?.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r?.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:r?.role&&(({data_entry:"Data Entry",doctor:"Dokter",nurse:"Perawat",researcher:"Peneliti",admin:"Administrator",super_admin:"Super Admin",national_stakeholder:"Stakeholder Nasional",SYSTEM_ADMIN:"System Administrator",NATIONAL_ADMIN:"National Administrator",CENTER_ADMIN:"Center Administrator",RESEARCHER:"Researcher",DATA_ENTRY:"Data Entry",MEDICAL_OFFICER:"Medical Officer",HEAD_OF_CENTER:"Kepala Center",OBSERVER:"Observer"})[s=r.role]||s)}),r?.centerName&&t.jsx("p",{className:"text-xs text-gray-500 truncate",children:r.centerName})]})]})})]})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col lg:pl-0",children:[t.jsx("div",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"flex items-center lg:hidden",children:t.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600",onClick:()=>g(!N),children:t.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),t.jsx("div",{className:"flex-1 flex items-center justify-between",children:t.jsx("div",{className:"max-w-lg",children:t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:(()=>{let e=v.find(e=>e.href===u);if(e)return e.name;for(let e of v)if(e.submenu){let s=e.submenu.find(e=>e.href===u);if(s)return s.name}return"Dashboard"})()})})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(m,{}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",className:"flex items-center space-x-3 text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 p-2",onClick:()=>p(!f),children:[t.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-emerald-600 text-sm font-medium",children:r?.name?.charAt(0).toUpperCase()})}),t.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:r?.name}),t.jsx("svg",{className:"hidden md:block h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-gray-200",children:[t.jsx("a",{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Profil Saya"}),t.jsx("a",{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Pengaturan"}),t.jsx("hr",{className:"my-1 border-gray-200"}),t.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:_,children:"Keluar"})]})]})]})]})}),t.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:e})]})]})}}};