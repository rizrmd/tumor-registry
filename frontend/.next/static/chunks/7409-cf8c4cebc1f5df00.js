"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7409],{1113:function(e,t,a){a.d(t,{K:function(){return n}});var l=a(7437),s=a(2265),i=a(7071);let r={pain:{title:"Pain",levels:[{value:5,label:"No pain",description:"No pain or discomfort"},{value:4,label:"Mild pain",description:"Occasional pain, no medication needed"},{value:3,label:"Moderate pain",description:"Pain controlled with NSAIDs"},{value:2,label:"Moderate-severe pain",description:"Pain requires stronger medication"},{value:1,label:"Severe pain",description:"Severe pain, limited activities"},{value:0,label:"Disabling pain",description:"Constant, disabling pain"}]},function:{title:"Function",levels:[{value:5,label:"No restriction",description:"No functional limitations"},{value:4,label:"Minor restriction",description:"Minor recreational restrictions"},{value:3,label:"Moderate restriction",description:"Restricted recreational activities"},{value:2,label:"Partial restriction",description:"Partial restriction of daily activities"},{value:1,label:"Severe restriction",description:"Severe restriction of daily activities"},{value:0,label:"Total disability",description:"Total disability"}]},emotionalAcceptance:{title:"Emotional Acceptance",levels:[{value:5,label:"Enthusiastic",description:"Enthusiastic about condition"},{value:4,label:"Satisfied",description:"Satisfied with condition"},{value:3,label:"Accepting",description:"Accepts condition"},{value:2,label:"Moderate concerns",description:"Moderate concerns"},{value:1,label:"Disappointed",description:"Disappointed with condition"},{value:0,label:"Unaccepting",description:"Does not accept condition"}]},supports:{title:"Supports/Aids",levels:[{value:5,label:"None",description:"No external supports needed"},{value:4,label:"Brace only",description:"Brace or wrap for activities"},{value:3,label:"One cane/crutch",description:"One cane or crutch"},{value:2,label:"Two canes/crutches",description:"Two canes or crutches"},{value:1,label:"Walker/frame",description:"Walker or frame"},{value:0,label:"Unable to walk",description:"Unable to walk"}]},walking:{title:"Walking Ability",levels:[{value:5,label:"Unlimited",description:"Unlimited walking ability"},{value:4,label:">6 blocks",description:"Can walk more than 6 blocks"},{value:3,label:"3-6 blocks",description:"Can walk 3-6 blocks"},{value:2,label:"1-2 blocks",description:"Can walk 1-2 blocks only"},{value:1,label:"Indoors only",description:"Indoor walking only"},{value:0,label:"Unable to walk",description:"Unable to walk"}]},gait:{title:"Gait",levels:[{value:5,label:"Normal",description:"Normal gait"},{value:4,label:"Minor limp",description:"Minor cosmetic limp"},{value:3,label:"Moderate limp",description:"Moderate limp, noticeable"},{value:2,label:"Major limp",description:"Major limp, significantly abnormal"},{value:1,label:"Severe limp",description:"Severe limp, barely ambulatory"},{value:0,label:"Unable to walk",description:"Unable to walk"}]}},n=e=>{let{patientId:t,patientName:a,followUpVisitId:n,onSave:o,autoSave:c=!1}=e,[d,u]=(0,s.useState)({pain:0,function:0,emotionalAcceptance:0,supports:0,walking:0,gait:0}),[m,b]=(0,s.useState)(new Date().toISOString().split("T")[0]),[p,x]=(0,s.useState)(""),[v,g]=(0,s.useState)(""),[h,f]=(0,s.useState)(!1),[y,N]=(0,s.useState)(!1),[j,w]=(0,s.useState)(""),S=i.Z.calculateTotalScore(d),k=i.Z.getFunctionalStatus(S);(0,s.useEffect)(()=>{if(c&&d&&p){let e=setTimeout(()=>{T()},2e3);return()=>clearTimeout(e)}},[d,m,p,v,c]);let M=(e,t)=>{u(a=>({...a,[e]:t})),N(!1)},T=async()=>{p&&await A(!0)},A=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(f(!0),w(""),!p){w("Please enter the assessor name");return}let a={patientId:t,followUpVisitId:n,...d,assessmentDate:m,assessedBy:p,notes:v||void 0},l=await i.Z.createScore(a);e||(N(!0),setTimeout(()=>N(!1),3e3)),o&&o(l.id)}catch(e){var a,l;w((null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message)||"Failed to save MSTS score")}finally{f(!1)}},C=(e,t)=>(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:t.title}),(0,l.jsx)("div",{className:"space-y-2",children:t.levels.map(t=>(0,l.jsx)("button",{onClick:()=>M(e,t.value),className:"w-full text-left p-3 rounded-lg border-2 transition-all ".concat(d[e]===t.value?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-bold text-sm mr-3",children:t.value}),(0,l.jsx)("span",{className:"font-medium text-gray-900",children:t.label})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 ml-11 mt-1",children:t.description})]}),d[e]===t.value&&(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},t.value))})]},e);return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"MSTS Score Calculator"}),(0,l.jsx)("p",{className:"text-blue-100 mt-1",children:"Musculoskeletal Tumor Society Functional Rating System"}),a&&(0,l.jsxs)("p",{className:"text-blue-100 mt-2",children:["Patient: ",(0,l.jsx)("span",{className:"font-semibold",children:a})]})]}),(0,l.jsxs)("div",{className:"bg-white border-x border-gray-200 p-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border-2 border-blue-200",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total MSTS Score"}),(0,l.jsx)("div",{className:"text-5xl font-bold text-blue-900",children:S}),(0,l.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:"out of 30 points"})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border-2 border-green-200",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Functional Status"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-900",children:k}),(0,l.jsx)("div",{className:"text-sm text-green-600 mt-2",children:"Based on total score interpretation"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assessment Date *"}),(0,l.jsx)("input",{type:"date",value:m,onChange:e=>{b(e.target.value),N(!1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assessed By *"}),(0,l.jsx)("input",{type:"text",value:p,onChange:e=>{x(e.target.value),N(!1)},placeholder:"Physician or clinician name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsx)("button",{onClick:()=>A(!1),disabled:h||!p,className:"w-full px-6 py-2 rounded-lg font-medium transition-colors ".concat(h||!p?"bg-gray-300 text-gray-500 cursor-not-allowed":y?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"),children:h?"Saving...":y?"Saved!":"Save Score"})})]}),j&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:j}),c&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700 text-sm",children:"Auto-save enabled: Changes will be saved automatically"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-b-lg p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Assessment Domains"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Rate each domain from 0 (worst) to 5 (best) based on the patient's current functional status."}),(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.keys(r).map(e=>C(e,r[e]))}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinical Notes (Optional)"}),(0,l.jsx)("textarea",{value:v,onChange:e=>{g(e.target.value),N(!1)},rows:4,placeholder:"Additional observations, limitations, or context for this assessment...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,l.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("svg",{className:"h-6 w-6 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-blue-800",children:"About MSTS Score"}),(0,l.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"The MSTS score evaluates 6 functional domains (Pain, Function, Emotional Acceptance, Supports, Walking, and Gait). Each domain is scored 0-5, for a total of 0-30 points. Higher scores indicate better functional outcomes."})]})]})})]})]})}},7071:function(e,t,a){var l=a(6383);class s{async createScore(e){return(await l.Z.post("/msts-scores",e)).data}async getAllScores(e){return(await l.Z.get("/msts-scores",{params:e?{patientId:e}:{}})).data}async getScoreById(e){return(await l.Z.get("/msts-scores/".concat(e))).data}async getScoresByPatient(e){return(await l.Z.get("/msts-scores/patient/".concat(e))).data}async getPatientHistory(e){return(await l.Z.get("/msts-scores/patient/".concat(e,"/history"))).data}async updateScore(e,t){return(await l.Z.put("/msts-scores/".concat(e),t)).data}async deleteScore(e){await l.Z.delete("/msts-scores/".concat(e))}calculateTotalScore(e){return e.pain+e.function+e.emotionalAcceptance+e.supports+e.walking+e.gait}getFunctionalStatus(e){return e>=24?"Excellent (24-30)":e>=18?"Good (18-23)":e>=12?"Fair (12-17)":"Poor (<12)"}}t.Z=new s}}]);