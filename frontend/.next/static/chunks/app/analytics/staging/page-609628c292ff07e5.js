(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4300],{341:function(e,t,s){Promise.resolve().then(s.bind(s,9802))},9802:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265),l=s(2849),n=s(4968),i=s(4033);function c(){let{user:e,isAuthenticated:t,isLoading:s}=(0,l.useAuth)(),c=(0,i.useRouter)(),[d,x]=(0,r.useState)(!0),[m,o]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[p,u]=(0,r.useState)([]),[y,j]=(0,r.useState)([]),[I,N]=(0,r.useState)("all");(0,r.useEffect)(()=>{if(!s&&!t){c.push("/login");return}t&&f()},[t,s,c,I]);let f=async()=>{try{x(!0),o([{stage:"IA (Low grade, intracompartmental)",count:245,percentage:28.9,avgAge:34.2,maleCount:138,femaleCount:107},{stage:"IB (Low grade, extracompartmental)",count:189,percentage:22.3,avgAge:38.7,maleCount:105,femaleCount:84},{stage:"IIA (High grade, intracompartmental)",count:168,percentage:19.8,avgAge:28.5,maleCount:95,femaleCount:73},{stage:"IIB (High grade, extracompartmental)",count:156,percentage:18.4,avgAge:31.2,maleCount:87,femaleCount:69},{stage:"III (Metastasis)",count:89,percentage:10.5,avgAge:35.8,maleCount:48,femaleCount:41}]),h([{tumorType:"Osteosarcoma",IA:45,IB:38,IIA:78,IIB:89,III:35,total:285},{tumorType:"Ewing Sarcoma",IA:28,IB:32,IIA:42,IIB:38,III:16,total:156},{tumorType:"Chondrosarcoma",IA:52,IB:48,IIA:22,IIB:8,III:4,total:134},{tumorType:"Giant Cell Tumor",IA:58,IB:32,IIA:6,IIB:2,III:0,total:98},{tumorType:"Soft Tissue Sarcoma",IA:62,IB:39,IIA:20,IIB:19,III:34,total:174}]),u([{year:"2020",earlyStage:156,locallyAdvanced:98,metastatic:28},{year:"2021",earlyStage:178,locallyAdvanced:112,metastatic:32},{year:"2022",earlyStage:189,locallyAdvanced:125,metastatic:35},{year:"2023",earlyStage:212,locallyAdvanced:138,metastatic:38},{year:"2024",earlyStage:245,locallyAdvanced:156,metastatic:45}]),j([{stage:"IA",oneYear:98.4,threeYear:94.2,fiveYear:89.7,patientCount:245},{stage:"IB",oneYear:96.8,threeYear:91.5,fiveYear:85.3,patientCount:189},{stage:"IIA",oneYear:89.3,threeYear:72.8,fiveYear:58.4,patientCount:168},{stage:"IIB",oneYear:78.2,threeYear:54.6,fiveYear:38.9,patientCount:156},{stage:"III",oneYear:52.8,threeYear:28.3,fiveYear:15.7,patientCount:89}])}catch(e){console.error("Error loading staging analytics:",e)}finally{x(!1)}},v=e=>e.includes("IA")?"bg-green-100 text-green-800":e.includes("IB")?"bg-blue-100 text-blue-800":e.includes("IIA")?"bg-yellow-100 text-yellow-800":e.includes("IIB")?"bg-orange-100 text-orange-800":e.includes("III")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",b=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600";if(s||d)return(0,a.jsx)(n.A,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading staging analytics..."})]})})});let w=m.reduce((e,t)=>e+t.count,0),A=m.filter(e=>e.stage.includes("IA")||e.stage.includes("IB")).reduce((e,t)=>e+t.count,0),B=w>0?(A/w*100).toFixed(1):"0.0";return(0,a.jsxs)(n.A,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Enneking Staging Analysis"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Staging distribution and outcomes for musculoskeletal tumors"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:I,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Time"}),(0,a.jsx)("option",{value:"5y",children:"Last 5 Years"}),(0,a.jsx)("option",{value:"3y",children:"Last 3 Years"}),(0,a.jsx)("option",{value:"1y",children:"Last Year"})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDC65"})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Early Stage (IA-IB)"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:A})]}),(0,a.jsx)("div",{className:"text-4xl",children:"✅"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[B,"% of total"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Advanced (IIA-IIB)"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:m.filter(e=>e.stage.includes("IIA")||e.stage.includes("IIB")).reduce((e,t)=>e+t.count,0)})]}),(0,a.jsx)("div",{className:"text-4xl",children:"⚠️"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Metastatic (III)"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600 mt-2",children:m.filter(e=>e.stage.includes("III")).reduce((e,t)=>e+t.count,0)})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDD34"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Enneking Staging Distribution"}),(0,a.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(v(e.stage)),children:e.stage}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.count," patients (",e.percentage,"%)"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Avg Age: ",e.avgAge," yrs"]}),(0,a.jsxs)("span",{children:["M: ",e.maleCount]}),(0,a.jsxs)("span",{children:["F: ",e.femaleCount]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(e.stage.includes("IA")?"bg-green-500":e.stage.includes("IB")?"bg-blue-500":e.stage.includes("IIA")?"bg-yellow-500":e.stage.includes("IIB")?"bg-orange-500":"bg-red-500"),style:{width:"".concat(e.percentage,"%")}})})]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Staging Distribution by Tumor Type"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tumor Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IA"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IB"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IIA"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IIB"}),(0,a.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"III"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tumorType})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm text-green-600 font-medium",children:e.IA})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:e.IB})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm text-yellow-600 font-medium",children:e.IIA})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:e.IIB})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm text-red-600 font-medium",children:e.III})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.total})})]},t))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Staging Trends Over Time"}),(0,a.jsx)("div",{className:"space-y-4",children:p.map((e,t)=>(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.year}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Total: ",e.earlyStage+e.locallyAdvanced+e.metastatic]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Early Stage (IA-IB)"}),(0,a.jsx)("span",{className:"text-green-600 font-medium",children:e.earlyStage})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Locally Advanced (IIA-IIB)"}),(0,a.jsx)("span",{className:"text-yellow-600 font-medium",children:e.locallyAdvanced})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Metastatic (III)"}),(0,a.jsx)("span",{className:"text-red-600 font-medium",children:e.metastatic})]})]})]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Survival Rates by Enneking Stage"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"1-Yr"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"3-Yr"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"5-Yr"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat(v(e.stage)),children:e.stage})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(b(e.oneYear)),children:[e.oneYear,"%"]})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(b(e.threeYear)),children:[e.threeYear,"%"]})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(b(e.fiveYear)),children:[e.fiveYear,"%"]})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.patientCount})})]},t))})]})})]})]})]})}},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[1176,4829,2849,4968,2971,2472,1744],function(){return e(e.s=341)}),_N_E=e.O()}]);