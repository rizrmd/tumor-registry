(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1577],{4558:function(e,a,t){Promise.resolve().then(t.bind(t,4920))},4920:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return c}});var s=t(7437),l=t(2265),r=t(2849),i=t(4968),n=t(4033);function c(){let{user:e,isAuthenticated:a,isLoading:t}=(0,r.useAuth)(),c=(0,n.useRouter)(),[d,x]=(0,l.useState)(!0),[m,o]=(0,l.useState)({totalProcedures:0,salvageCount:0,amputationCount:0,salvageRate:0}),[g,h]=(0,l.useState)([]),[p,u]=(0,l.useState)([]),[v,j]=(0,l.useState)([]),[y,N]=(0,l.useState)("all");(0,l.useEffect)(()=>{if(!t&&!a){c.push("/login");return}a&&f()},[a,t,c,y]);let f=async()=>{try{x(!0),o({totalProcedures:847,salvageCount:698,amputationCount:149,salvageRate:82.4}),h([{tumorType:"Osteosarcoma",total:285,salvage:225,amputation:60,salvageRate:78.9},{tumorType:"Ewing Sarcoma",total:156,salvage:138,amputation:18,salvageRate:88.5},{tumorType:"Chondrosarcoma",total:134,salvage:121,amputation:13,salvageRate:90.3},{tumorType:"Giant Cell Tumor",total:98,salvage:95,amputation:3,salvageRate:96.9},{tumorType:"Soft Tissue Sarcoma",total:174,salvage:119,amputation:55,salvageRate:68.4}]),u([{stage:"IA (Low grade, intracompartmental)",total:245,salvage:241,amputation:4,salvageRate:98.4},{stage:"IB (Low grade, extracompartmental)",total:189,salvage:178,amputation:11,salvageRate:94.2},{stage:"IIA (High grade, intracompartmental)",total:168,salvage:142,amputation:26,salvageRate:84.5},{stage:"IIB (High grade, extracompartmental)",total:156,salvage:95,amputation:61,salvageRate:60.9},{stage:"III (Metastasis)",total:89,salvage:42,amputation:47,salvageRate:47.2}]),j([{centerId:"1",centerName:"RSUPN Dr. Cipto Mangunkusumo",total:156,salvage:139,amputation:17,salvageRate:89.1,rank:1},{centerId:"2",centerName:"RSUP Dr. Sardjito",total:134,salvage:116,amputation:18,salvageRate:86.6,rank:2},{centerId:"3",centerName:"RSUP Dr. Soetomo",total:128,salvage:109,amputation:19,salvageRate:85.2,rank:3},{centerId:"4",centerName:"RSUP Dr. Hasan Sadikin",total:98,salvage:81,amputation:17,salvageRate:82.7,rank:4},{centerId:"5",centerName:"RSOP Prof. Dr. Soeharso",total:89,salvage:72,amputation:17,salvageRate:80.9,rank:5}])}catch(e){console.error("Error loading limb salvage analytics:",e)}finally{x(!1)}},b=e=>e>=85?"text-green-600":e>=70?"text-yellow-600":"text-red-600",w=e=>e>=85?"bg-green-100":e>=70?"bg-yellow-100":"bg-red-100";return t||d?(0,s.jsx)(i.A,{children:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading limb salvage analytics..."})]})})}):(0,s.jsxs)(i.A,{children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Limb Salvage vs Amputation Analytics"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Key surgical outcome metrics for musculoskeletal tumors"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"All Time"}),(0,s.jsx)("option",{value:"1y",children:"Last Year"}),(0,s.jsx)("option",{value:"6m",children:"Last 6 Months"}),(0,s.jsx)("option",{value:"3m",children:"Last 3 Months"})]})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Procedures"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m.totalProcedures})]}),(0,s.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFE5"})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Limb Salvage"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:m.salvageCount})]}),(0,s.jsx)("div",{className:"text-4xl",children:"✅"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[m.salvageRate,"% of total"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Amputation"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-red-600 mt-2",children:m.amputationCount})]}),(0,s.jsx)("div",{className:"text-4xl",children:"⚠️"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[(100-m.salvageRate).toFixed(1),"% of total"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Salvage Rate"}),(0,s.jsxs)("p",{className:"text-3xl font-bold mt-2 ".concat(b(m.salvageRate)),children:[m.salvageRate,"%"]})]}),(0,s.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCCA"})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,s.jsx)("div",{className:"h-2 rounded-full ".concat(m.salvageRate>=85?"bg-green-500":m.salvageRate>=70?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(m.salvageRate,"%")}})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Limb Salvage Rate by Tumor Type"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tumor Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salvage"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amputation"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Rate"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((e,a)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tumorType})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.total})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-green-600 font-medium",children:e.salvage})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-red-600 font-medium",children:e.amputation})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(w(e.salvageRate)," ").concat(b(e.salvageRate)),children:[e.salvageRate,"%"]})})]},a))})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Limb Salvage Rate by Enneking Staging"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enneking Stage"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salvage"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amputation"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Rate"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((e,a)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.stage})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.total})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-green-600 font-medium",children:e.salvage})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsx)("div",{className:"text-sm text-red-600 font-medium",children:e.amputation})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(w(e.salvageRate)," ").concat(b(e.salvageRate)),children:[e.salvageRate,"%"]})})]},a))})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Center Performance Leaderboard"}),(0,s.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center",children:e.rank<=3?(0,s.jsx)("span",{className:"text-2xl",children:1===e.rank?"\uD83E\uDD47":2===e.rank?"\uD83E\uDD48":"\uD83E\uDD49"}):(0,s.jsx)("span",{className:"text-gray-500 font-semibold text-lg",children:e.rank})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.centerName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[(0,s.jsxs)("span",{children:[e.total," procedures"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"text-green-600",children:[e.salvage," salvage"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{className:"text-red-600",children:[e.amputation," amputation"]})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"px-4 py-2 rounded-full text-lg font-bold ".concat(w(e.salvageRate)," ").concat(b(e.salvageRate)),children:[e.salvageRate,"%"]})})]},e.centerId))})]})]})}},4033:function(e,a,t){e.exports=t(94)}},function(e){e.O(0,[1176,4829,2849,4968,2971,2472,1744],function(){return e(e.s=4558)}),_N_E=e.O()}]);