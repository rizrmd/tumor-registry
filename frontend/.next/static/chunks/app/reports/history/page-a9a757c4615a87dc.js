(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1413],{4867:function(e,a,t){Promise.resolve().then(t.bind(t,1341))},1341:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var r=t(7437),s=t(2265),n=t(6986),i=t(7372);function l(){let{user:e,isAuthenticated:a,isLoading:t}=(0,n.useAuth)(),[l,d]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[x,m]=(0,s.useState)(!0),[u,g]=(0,s.useState)(""),[p,h]=(0,s.useState)("all"),[y,f]=(0,s.useState)("all"),[j,b]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[v,k]=(0,s.useState)(1);(0,s.useEffect)(()=>{if(!t&&!a){window.location.href="/login";return}a&&S()},[a,t]),(0,s.useEffect)(()=>{B()},[l,u,p,y,j,N]);let S=async()=>{try{m(!0);let e=[{id:"RPT-2025-001",name:"Laporan Insidensi Kanker Q4 2025",type:"Epidemiologi",generatedAt:"2025-11-22 14:30",generatedBy:"Dr. Siti Nurhaliza",fileSize:"2.4 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-002",name:"Kualitas Data November 2025",type:"Kualitas",generatedAt:"2025-11-21 09:15",generatedBy:"Dr. Budi Santoso",fileSize:"1.8 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-003",name:"Performa Pusat - Bulanan",type:"Administrasi",generatedAt:"2025-11-20 16:45",generatedBy:"Admin RSCM",fileSize:"-",status:"processing"},{id:"RPT-2025-004",name:"Hasil Pengobatan 2025",type:"Klinis",generatedAt:"2025-11-19 11:20",generatedBy:"Dr. Ahmad Wijaya",fileSize:"3.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-005",name:"Demografis Pasien Jawa Barat",type:"Epidemiologi",generatedAt:"2025-11-18 08:00",generatedBy:"Dr. Rina Kartika",fileSize:"1.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-006",name:"Analisis Survival Rate 2020-2025",type:"Klinis",generatedAt:"2025-11-17 15:30",generatedBy:"Dr. Hendra Gunawan",fileSize:"4.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-007",name:"Laporan Tahunan 2024",type:"Administrasi",generatedAt:"2025-11-16 10:00",generatedBy:"Admin Dharmais",fileSize:"8.5 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-008",name:"Pola Pengobatan Kanker Payudara",type:"Klinis",generatedAt:"2025-11-15 13:45",generatedBy:"Dr. Dewi Lestari",fileSize:"-",status:"failed"},{id:"RPT-2025-009",name:"Distribusi Geografis Kasus Oktober",type:"Epidemiologi",generatedAt:"2025-11-14 09:30",generatedBy:"Dr. Eko Prasetyo",fileSize:"2.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-010",name:"Evaluasi Screening Program 2025",type:"Kualitas",generatedAt:"2025-11-13 14:15",generatedBy:"Dr. Lina Marlina",fileSize:"1.5 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-011",name:"Laporan Kanker Serviks Nasional",type:"Epidemiologi",generatedAt:"2025-10-28 11:00",generatedBy:"Dr. Siti Nurhaliza",fileSize:"3.8 MB",status:"expired"},{id:"RPT-2025-012",name:"Statistik Kemoterapi Q3 2025",type:"Klinis",generatedAt:"2025-10-15 16:20",generatedBy:"Dr. Ahmad Wijaya",fileSize:"2.7 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-013",name:"Audit Kelengkapan Data September",type:"Kualitas",generatedAt:"2025-10-01 08:45",generatedBy:"Admin RSCM",fileSize:"1.1 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-014",name:"Perbandingan Treatment Outcomes",type:"Klinis",generatedAt:"2025-09-20 13:30",generatedBy:"Dr. Budi Santoso",fileSize:"5.2 MB",status:"completed",downloadUrl:"#"},{id:"RPT-2025-015",name:"Laporan Insiden Kanker Anak 2025",type:"Epidemiologi",generatedAt:"2025-09-10 10:15",generatedBy:"Dr. Rina Kartika",fileSize:"2.9 MB",status:"expired"}];d(e),c(e)}catch(e){console.error("Error fetching reports:",e)}finally{m(!1)}},B=()=>{let e=[...l];u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.id.toLowerCase().includes(u.toLowerCase()))),"all"!==p&&(e=e.filter(e=>e.type===p)),"all"!==y&&(e=e.filter(e=>e.status===y)),j&&(e=e.filter(e=>new Date(e.generatedAt)>=new Date(j))),N&&(e=e.filter(e=>new Date(e.generatedAt)<=new Date(N+" 23:59:59"))),c(e),k(1)},A=e=>{switch(e){case"completed":return"text-green-700 bg-green-100 border-green-200";case"processing":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"failed":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},D=e=>{switch(e){case"completed":return"Selesai";case"processing":return"Diproses";case"failed":return"Gagal";case"expired":return"Kadaluarsa";default:return e}},M=e=>{alert("Mengunduh: ".concat(e.name,"\nUkuran: ").concat(e.fileSize))},P=e=>{alert("Menampilkan pratinjau: ".concat(e.name))},L=e=>{alert("Mencoba ulang generate laporan: ".concat(e.name))},C=Math.ceil(o.length/10),K=(v-1)*10,T=o.slice(K,K+10);return t||x?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):a?(0,r.jsxs)(i.A,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Riwayat Laporan"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Lihat dan kelola riwayat laporan yang telah dibuat"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filter & Pencarian"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Laporan"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"Nama laporan atau ID...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Laporan"}),(0,r.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"all",children:"Semua Tipe"}),(0,r.jsx)("option",{value:"Epidemiologi",children:"Epidemiologi"}),(0,r.jsx)("option",{value:"Klinis",children:"Klinis"}),(0,r.jsx)("option",{value:"Administrasi",children:"Administrasi"}),(0,r.jsx)("option",{value:"Kualitas",children:"Kualitas"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,r.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"all",children:"Semua Status"}),(0,r.jsx)("option",{value:"completed",children:"Selesai"}),(0,r.jsx)("option",{value:"processing",children:"Diproses"}),(0,r.jsx)("option",{value:"failed",children:"Gagal"}),(0,r.jsx)("option",{value:"expired",children:"Kadaluarsa"})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:()=>{g(""),h("all"),f("all"),b(""),w("")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Reset Filter"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dari Tanggal"}),(0,r.jsx)("input",{type:"date",value:j,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sampai Tanggal"}),(0,r.jsx)("input",{type:"date",value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-sm text-green-800",children:["Menampilkan ",(0,r.jsx)("strong",{children:T.length})," dari ",(0,r.jsx)("strong",{children:o.length})," laporan",(u||"all"!==p||"all"!==y||j||N)&&" (terfilter)"]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID / Nama Laporan"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipe"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dibuat"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dibuat Oleh"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ukuran"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===T.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("p",{className:"mt-2",children:"Tidak ada laporan ditemukan"})]})})}):T.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.id})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:e.type})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.generatedAt})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.generatedBy})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.fileSize})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded border ".concat(A(e.status)),children:D(e.status)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:["completed"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>P(e),className:"text-blue-600 hover:text-blue-900 font-medium",title:"Lihat",children:(0,r.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,r.jsx)("button",{onClick:()=>M(e),className:"text-green-600 hover:text-green-900 font-medium",title:"Download",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),"processing"===e.status&&(0,r.jsx)("span",{className:"text-yellow-600 text-xs",children:"Sedang diproses..."}),"failed"===e.status&&(0,r.jsx)("button",{onClick:()=>L(e),className:"text-red-600 hover:text-red-900 font-medium text-xs",children:"Coba Lagi"}),"expired"===e.status&&(0,r.jsx)("span",{className:"text-gray-500 text-xs",children:"Tidak tersedia"})]})})]},e.id))})]})}),C>1&&(0,r.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Halaman ",(0,r.jsx)("strong",{children:v})," dari ",(0,r.jsx)("strong",{children:C})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>k(e=>Math.max(1,e-1)),disabled:1===v,className:"px-4 py-2 border rounded-lg ".concat(1===v?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Sebelumnya"}),(0,r.jsx)("button",{onClick:()=>k(e=>Math.min(C,e+1)),disabled:v===C,className:"px-4 py-2 border rounded-lg ".concat(v===C?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Selanjutnya"})]})]})})]})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Redirecting to login..."})]})})}},4033:function(e,a,t){e.exports=t(5313)}},function(e){e.O(0,[4737,1956,7372,2971,4938,1744],function(){return e(e.s=4867)}),_N_E=e.O()}]);