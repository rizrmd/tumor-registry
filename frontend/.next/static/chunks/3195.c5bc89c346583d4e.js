(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3195],{3195:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r,l,a,o,s=n(7437),c=n(2265);let i=(0,c.createContext)(null),u=i.Provider;function f(){let e=(0,c.useContext)(i);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var d=n(447),p=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let m=(0,c.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:l,id:a,placeholder:o,style:s,whenReady:i,zoom:f,...p},m){let[g]=(0,c.useState)({className:l,id:a,style:s}),[y,b]=(0,c.useState)(null);(0,c.useImperativeHandle)(m,()=>y?.map??null,[y]);let x=(0,c.useCallback)(r=>{if(null!==r&&null===y){let l=new d.Map(r,p);null!=n&&null!=f?l.setView(n,f):null!=e&&l.fitBounds(e,t),null!=i&&l.whenReady(i),b(Object.freeze({__version:1,map:l}))}},[]);(0,c.useEffect)(()=>()=>{y?.map.remove()},[y]);let v=y?c.createElement(u,{value:y},r):o??null;return c.createElement("div",h({},g,{ref:x}),v)});function g(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function y(e,t){return null==t?function(t,n){let r=(0,c.useRef)();return r.current||(r.current=e(t,n)),r}:function(n,r){let l=(0,c.useRef)();l.current||(l.current=e(n,r));let a=(0,c.useRef)(n),{instance:o}=l.current;return(0,c.useEffect)(function(){a.current!==n&&(t(o,n,a.current),a.current=n)},[o,n,r]),l}}function b(e,t){let n=(0,c.useRef)();(0,c.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function x(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function v(e,t){(0,c.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}n(4887);let j=(r=y(function({url:e,...t},n){return g(new d.TileLayer(e,x(t,n)),n)},function(e,t,n){!function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l)}(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}),l=function(e){let t=f(),n=r(x(e,t),t);return function(e,t){let n=(0,c.useRef)(t);(0,c.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(t.map,e.attribution),b(n.current,e.eventHandlers),v(n.current,t),n},(0,c.forwardRef)(function(e,t){let{instance:n}=l(e).current;return(0,c.useImperativeHandle)(t,()=>n),null})),w=(a=y(function({data:e,...t},n){let r=new d.GeoJSON(e,t);return g(r,Object.freeze({...n,overlayContainer:r}))},function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))}),o=function(e){let t=f(),n=a(x(e,t),t);return b(n.current,e.eventHandlers),v(n.current,t),function(e,t){let n=(0,c.useRef)();(0,c.useEffect)(function(){if(t.pathOptions!==n.current){let r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}},[e,t])}(n.current,e),n},(0,c.forwardRef)(function(e,t){let{instance:n,context:r}=o(e).current;return(0,c.useImperativeHandle)(t,()=>n),null==e.children?null:c.createElement(u,{value:r},e.children)}));n(9851),delete p().Icon.Default.prototype._getIconUrl,p().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});var C=e=>{let{data:t}=e,[n,r]=(0,c.useState)(null),[l,a]=(0,c.useState)(!0);(0,c.useEffect)(()=>{fetch("https://raw.githubusercontent.com/superpikar/indonesia-geojson/master/indonesia-province-simple.json").then(e=>{if(!e.ok)throw Error("Failed to load map data");return e.json()}).then(e=>{r(e),a(!1)}).catch(e=>{console.error("Map loading error:",e),a(!1)})},[]);let o=e=>e>50?"#800026":e>20?"#BD0026":e>10?"#E31A1C":e>5?"#FC4E2A":e>2?"#FD8D3C":e>0?"#FEB24C":"#FFEDA0";return l?(0,s.jsx)("div",{className:"h-96 flex items-center justify-center bg-gray-100 rounded-lg",children:"Loading Map..."}):n?(0,s.jsxs)("div",{className:"h-96 w-full bg-white rounded-lg shadow border overflow-hidden relative z-0",children:[(0,s.jsxs)(m,{center:[-2.5,118],zoom:5,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[(0,s.jsx)(j,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,s.jsx)(w,{data:n,style:e=>({fillColor:o(t[e.properties.Propinsi]||0),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}),onEachFeature:(e,n)=>{let r=e.properties.Propinsi,l=t[r]||0;n.bindTooltip("<strong>".concat(r,"</strong><br/>").concat(l," Patients"),{permanent:!1,direction:"top"}),n.on({mouseover:e=>{let t=e.target;t.setStyle({weight:2,color:"#666",dashArray:"",fillOpacity:.9}),t.bringToFront()},mouseout:e=>{e.target.setStyle({weight:1,color:"white",dashArray:"3",fillOpacity:.7})}})}})]}),(0,s.jsxs)("div",{className:"absolute bottom-4 right-4 bg-white p-2 text-xs rounded shadow z-[400] opacity-90",children:[(0,s.jsx)("div",{className:"font-bold mb-1",children:"Patient Count"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-3 h-3 block",style:{background:"#800026"}})," > 50"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-3 h-3 block",style:{background:"#BD0026"}})," 20 - 50"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-3 h-3 block",style:{background:"#E31A1C"}})," 10 - 20"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-3 h-3 block",style:{background:"#FC4E2A"}})," 5 - 10"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-3 h-3 block",style:{background:"#FFEDA0"}})," 0 - 5"]})]})]}):(0,s.jsxs)("div",{className:"h-96 flex flex-col items-center justify-center bg-gray-100 rounded-lg text-gray-500",children:[(0,s.jsx)("p",{children:"Map data unavailable."}),(0,s.jsx)("p",{className:"text-sm",children:"Could not load GeoJSON."})]})}},9851:function(){}}]);