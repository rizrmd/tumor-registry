(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1883],{1883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(7437),l=n(2265);let a=(0,l.createContext)(null),o=a.Provider;function s(){let e=(0,l.useContext)(a);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var c=n(447),u=n.n(c);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let f=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:s,placeholder:u,style:f,whenReady:d,zoom:p,...h},m){let[g]=(0,l.useState)({className:a,id:s,style:f}),[y,b]=(0,l.useState)(null);(0,l.useImperativeHandle)(m,()=>y?.map??null,[y]);let x=(0,l.useCallback)(r=>{if(null!==r&&null===y){let l=new c.Map(r,h);null!=n&&null!=p?l.setView(n,p):null!=e&&l.fitBounds(e,t),null!=d&&l.whenReady(d),b(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{y?.map.remove()},[y]);let v=y?l.createElement(o,{value:y},r):u??null;return l.createElement("div",i({},g,{ref:x}),v)});function d(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function p(e,t){return null==t?function(t,n){let r=(0,l.useRef)();return r.current||(r.current=e(t,n)),r}:function(n,r){let a=(0,l.useRef)();a.current||(a.current=e(n,r));let o=(0,l.useRef)(n),{instance:s}=a.current;return(0,l.useEffect)(function(){o.current!==n&&(t(s,n,o.current),o.current=n)},[s,n,r]),a}}function h(e,t){let n=(0,l.useRef)();(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function m(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function g(e,t){(0,l.useEffect)(function(){let n=t.layerContainer??t.map;return n.addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}n(4887);let y=function(e,t){var n;let r=p(e,t);return n=function(e){let t=s(),n=r(m(e,t),t);return function(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(t.map,e.attribution),h(n.current,e.eventHandlers),g(n.current,t),n},(0,l.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){let r=new c.TileLayer(e,m(t,n));return d(r,n)},function(e,t,n){!function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l)}(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}),b=function(e,t){var n;let r=p(e,t);return n=function(e){let t=s(),n=r(m(e,t),t);return h(n.current,e.eventHandlers),g(n.current,t),function(e,t){let n=(0,l.useRef)();(0,l.useEffect)(function(){if(t.pathOptions!==n.current){let r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}},[e,t])}(n.current,e),n},(0,l.forwardRef)(function(e,t){let{instance:r,context:a}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null==e.children?null:l.createElement(o,{value:a},e.children)})}(function({data:e,...t},n){let r=new c.GeoJSON(e,t);return d(r,Object.freeze({...n,overlayContainer:r}))},function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))});n(1374),delete u().Icon.Default.prototype._getIconUrl,u().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});var x=e=>{let{data:t}=e,[n,a]=(0,l.useState)(null),[o,s]=(0,l.useState)(!0);(0,l.useEffect)(()=>{fetch("https://raw.githubusercontent.com/superpikar/indonesia-geojson/master/indonesia-province-simple.json").then(e=>{if(!e.ok)throw Error("Failed to load map data");return e.json()}).then(e=>{a(e),s(!1)}).catch(e=>{console.error("Map loading error:",e),s(!1)})},[]);let c=e=>e>50?"#800026":e>20?"#BD0026":e>10?"#E31A1C":e>5?"#FC4E2A":e>2?"#FD8D3C":e>0?"#FEB24C":"#FFEDA0";return o?(0,r.jsx)("div",{className:"h-96 flex items-center justify-center bg-gray-100 rounded-lg",children:"Loading Map..."}):n?(0,r.jsxs)("div",{className:"h-96 w-full bg-white rounded-lg shadow border overflow-hidden relative z-0",children:[(0,r.jsxs)(f,{center:[-2.5,118],zoom:5,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[(0,r.jsx)(y,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(b,{data:n,style:e=>{let n=e.properties.Propinsi,r=t[n]||0;return{fillColor:c(r),weight:1,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}},onEachFeature:(e,n)=>{let r=e.properties.Propinsi,l=t[r]||0;n.bindTooltip("<strong>".concat(r,"</strong><br/>").concat(l," Patients"),{permanent:!1,direction:"top"}),n.on({mouseover:e=>{let t=e.target;t.setStyle({weight:2,color:"#666",dashArray:"",fillOpacity:.9}),t.bringToFront()},mouseout:e=>{let t=e.target;t.setStyle({weight:1,color:"white",dashArray:"3",fillOpacity:.7})}})}})]}),(0,r.jsxs)("div",{className:"absolute bottom-4 right-4 bg-white p-2 text-xs rounded shadow z-[400] opacity-90",children:[(0,r.jsx)("div",{className:"font-bold mb-1",children:"Patient Count"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-3 block",style:{background:"#800026"}})," > 50"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-3 block",style:{background:"#BD0026"}})," 20 - 50"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-3 block",style:{background:"#E31A1C"}})," 10 - 20"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-3 block",style:{background:"#FC4E2A"}})," 5 - 10"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-3 block",style:{background:"#FFEDA0"}})," 0 - 5"]})]})]}):(0,r.jsxs)("div",{className:"h-96 flex flex-col items-center justify-center bg-gray-100 rounded-lg text-gray-500",children:[(0,r.jsx)("p",{children:"Map data unavailable."}),(0,r.jsx)("p",{className:"text-sm",children:"Could not load GeoJSON."})]})}},1374:function(){}}]);